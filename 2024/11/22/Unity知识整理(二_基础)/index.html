

<!DOCTYPE html>
<html lang="zh-CN" data-default-color-scheme=auto>



<head>
  <meta charset="UTF-8">

  <link rel="apple-touch-icon" sizes="76x76" href="/img/fluid.png">
  <link rel="icon" href="/img/fluid.png">
  

  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
  <meta name="theme-color" content="#2f4154">
  <meta name="author" content="wing2791">
  <meta name="keywords" content="">
  
    <meta name="description" content="Mathf知识点123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100">
<meta property="og:type" content="article">
<meta property="og:title" content="Unity知识整理(二_基础)">
<meta property="og:url" content="https://wing2791.github.io/2024/11/22/Unity%E7%9F%A5%E8%AF%86%E6%95%B4%E7%90%86(%E4%BA%8C_%E5%9F%BA%E7%A1%80)/index.html">
<meta property="og:site_name" content="Day Day Up!">
<meta property="og:description" content="Mathf知识点123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://s2.loli.net/2024/11/26/YqhNfZwRkm98utc.png">
<meta property="og:image" content="https://s2.loli.net/2024/11/26/jJ8yR1xwYq3aiN9.png">
<meta property="og:image" content="https://s2.loli.net/2024/11/26/s7JjOvqdFahE5Bu.png">
<meta property="og:image" content="https://s2.loli.net/2024/11/26/4mgI68hjQGJ1LRX.png">
<meta property="og:image" content="https://s2.loli.net/2024/11/26/2ASgOzjqC79We8w.png">
<meta property="og:image" content="https://s2.loli.net/2024/11/26/spXLGKN9uhPVYOb.png">
<meta property="og:image" content="https://s2.loli.net/2024/11/26/RI6zulCbY7yU259.png">
<meta property="og:image" content="https://s2.loli.net/2024/11/26/25tiwqKCRpTmrDN.png">
<meta property="og:image" content="https://s2.loli.net/2024/11/26/u2FdtovylQeXIPC.png">
<meta property="og:image" content="https://s2.loli.net/2024/11/26/3B8Zg1hLSGQXtMR.png">
<meta property="og:image" content="https://s2.loli.net/2024/11/26/bavtd53WGAcsqP7.png">
<meta property="og:image" content="https://s2.loli.net/2024/11/26/SsHtLfodWJTxEiB.png">
<meta property="og:image" content="https://s2.loli.net/2024/11/26/Tx2JKY4IgsplzB5.png">
<meta property="og:image" content="https://s2.loli.net/2024/11/26/GeY8pZdnj2ucy3v.png">
<meta property="og:image" content="https://s2.loli.net/2024/11/26/ExdD5nZWNXbcA91.png">
<meta property="og:image" content="https://s2.loli.net/2024/11/26/OiyhHmBItS2ZjQn.png">
<meta property="og:image" content="https://s2.loli.net/2024/11/26/JKom2NcaYuvQb9R.png">
<meta property="og:image" content="https://s2.loli.net/2024/11/26/YoGINedp7RFQngK.png">
<meta property="og:image" content="https://s2.loli.net/2024/11/26/pPIinzefQrOWoJD.png">
<meta property="og:image" content="https://s2.loli.net/2024/11/26/ihbKJMAySflZ9Uo.png">
<meta property="og:image" content="https://s2.loli.net/2024/11/26/Cih3rkgmMxfE6Iv.png">
<meta property="og:image" content="https://s2.loli.net/2024/11/26/IQvOKB45eul8AWH.png">
<meta property="og:image" content="https://s2.loli.net/2024/11/26/lbWRj52YPsI4man.png">
<meta property="og:image" content="https://s2.loli.net/2024/11/26/1frgk9cLITYuywS.png">
<meta property="og:image" content="https://s2.loli.net/2024/11/26/VKUZc3FYyujS1vp.png">
<meta property="og:image" content="https://s2.loli.net/2024/11/26/6mG5p3TKd7O4huB.png">
<meta property="og:image" content="https://s2.loli.net/2024/11/26/pUFREtcYGHaTdCJ.png">
<meta property="og:image" content="https://s2.loli.net/2024/11/26/Fx6saP7OIX1WgEn.png">
<meta property="og:image" content="https://s2.loli.net/2024/11/26/v4P9XlDFjpxKfmk.png">
<meta property="article:published_time" content="2024-11-22T14:20:54.653Z">
<meta property="article:modified_time" content="2024-11-25T16:38:43.061Z">
<meta property="article:author" content="wing2791">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image" content="https://s2.loli.net/2024/11/26/YqhNfZwRkm98utc.png">
  
  
  
  <title>Unity知识整理(二_基础) - Day Day Up!</title>

  <link  rel="stylesheet" href="https://lib.baomitu.com/twitter-bootstrap/4.6.1/css/bootstrap.min.css" />



  <link  rel="stylesheet" href="https://lib.baomitu.com/github-markdown-css/4.0.0/github-markdown.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/hint.css/2.7.0/hint.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.css" />



<!-- 主题依赖的图标库，不要自行修改 -->
<!-- Do not modify the link that theme dependent icons -->

<link rel="stylesheet" href="//at.alicdn.com/t/c/font_1749284_5i9bdhy70f8.css">



<link rel="stylesheet" href="//at.alicdn.com/t/c/font_1736178_k526ubmyhba.css">


<link  rel="stylesheet" href="/css/main.css" />


  <link id="highlight-css" rel="stylesheet" href="/css/highlight.css" />
  
    <link id="highlight-css-dark" rel="stylesheet" href="/css/highlight-dark.css" />
  




  <script id="fluid-configs">
    var Fluid = window.Fluid || {};
    Fluid.ctx = Object.assign({}, Fluid.ctx)
    var CONFIG = {"hostname":"wing2791.github.io","root":"/","version":"1.9.8","typing":{"enable":true,"typeSpeed":70,"cursorChar":"_","loop":false,"scope":[]},"anchorjs":{"enable":true,"element":"h1,h2,h3,h4,h5,h6","placement":"left","visible":"hover","icon":""},"progressbar":{"enable":true,"height_px":3,"color":"#29d","options":{"showSpinner":false,"trickleSpeed":100}},"code_language":{"enable":true,"default":"TEXT"},"copy_btn":true,"image_caption":{"enable":true},"image_zoom":{"enable":true,"img_url_replace":["",""]},"toc":{"enable":true,"placement":"right","headingSelector":"h1,h2,h3,h4,h5,h6","collapseDepth":0},"lazyload":{"enable":true,"loading_img":"/img/loading.gif","onlypost":false,"offset_factor":2},"web_analytics":{"enable":false,"follow_dnt":true,"baidu":null,"google":{"measurement_id":null},"tencent":{"sid":null,"cid":null},"leancloud":{"app_id":null,"app_key":null,"server_url":null,"path":"window.location.pathname","ignore_local":false},"umami":{"src":null,"website_id":null,"domains":null,"start_time":"2024-01-01T00:00:00.000Z","token":null,"api_server":null}},"search_path":"/local-search.xml","include_content_in_search":true};

    if (CONFIG.web_analytics.follow_dnt) {
      var dntVal = navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack;
      Fluid.ctx.dnt = dntVal && (dntVal.startsWith('1') || dntVal.startsWith('yes') || dntVal.startsWith('on'));
    }
  </script>
  <script  src="/js/utils.js" ></script>
  <script  src="/js/color-schema.js" ></script>
  


  
<meta name="generator" content="Hexo 7.3.0"></head>


<body>
  

  <header>
    

<div class="header-inner" style="height: 70vh;">
  <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand" href="/">
      <strong>wing2791的小窝</strong>
    </a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/" target="_self">
                <i class="iconfont icon-home-fill"></i>
                <span>首页</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/archives/" target="_self">
                <i class="iconfont icon-archive-fill"></i>
                <span>归档</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/categories/" target="_self">
                <i class="iconfont icon-category-fill"></i>
                <span>分类</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/tags/" target="_self">
                <i class="iconfont icon-tags-fill"></i>
                <span>标签</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/about/" target="_self">
                <i class="iconfont icon-user-fill"></i>
                <span>关于</span>
              </a>
            </li>
          
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" target="_self" href="javascript:;" data-toggle="modal" data-target="#modalSearch" aria-label="Search">
              <i class="iconfont icon-search"></i>
            </a>
          </li>
          
        
        
          <li class="nav-item" id="color-toggle-btn">
            <a class="nav-link" target="_self" href="javascript:;" aria-label="Color Toggle">
              <i class="iconfont icon-dark" id="color-toggle-icon"></i>
            </a>
          </li>
        
      </ul>
    </div>
  </div>
</nav>

  

<div id="banner" class="banner" parallax=true
     style="background: url('/img/default.png') no-repeat center center; background-size: cover;">
  <div class="full-bg-img">
    <div class="mask flex-center" style="background-color: rgba(0, 0, 0, 0.3)">
      <div class="banner-text text-center fade-in-up">
        <div class="h2">
          
            <span id="subtitle" data-typed-text="Unity知识整理(二_基础)"></span>
          
        </div>

        
          
  <div class="mt-3">
    
    
      <span class="post-meta">
        <i class="iconfont icon-date-fill" aria-hidden="true"></i>
        <time datetime="2024-11-22 22:20" pubdate>
          2024年11月22日 晚上
        </time>
      </span>
    
  </div>

  <div class="mt-1">
    
      <span class="post-meta mr-2">
        <i class="iconfont icon-chart"></i>
        
          12k 字
        
      </span>
    

    
      <span class="post-meta mr-2">
        <i class="iconfont icon-clock-fill"></i>
        
        
        
          101 分钟
        
      </span>
    

    
    
  </div>


        
      </div>

      
    </div>
  </div>
</div>

</div>

  </header>

  <main>
    
      

<div class="container-fluid nopadding-x">
  <div class="row nomargin-x">
    <div class="side-col d-none d-lg-block col-lg-2">
      

    </div>

    <div class="col-lg-8 nopadding-x-md">
      <div class="container nopadding-x-md" id="board-ctn">
        <div id="board">
          <article class="post-content mx-auto">
            <h1 id="seo-header">Unity知识整理(二_基础)</h1>
            
            
              <div class="markdown-body">
                
                <h1 id="Mathf知识点"><a href="#Mathf知识点" class="headerlink" title="Mathf知识点"></a>Mathf知识点</h1><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br></pre></td><td class="code"><pre><code class="hljs csharp"><span class="hljs-keyword">using</span> System;<br><span class="hljs-keyword">using</span> System.Collections;<br><span class="hljs-keyword">using</span> System.Collections.Generic;<br><span class="hljs-keyword">using</span> UnityEngine;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">Lesson1</span> : <span class="hljs-title">MonoBehaviour</span><br>&#123;<br>    <span class="hljs-comment">// Start is called before the first frame update</span><br>    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Start</span>()</span><br>    &#123;<br>        <span class="hljs-meta">#<span class="hljs-keyword">region</span> 知识点一 Mathf和Math</span><br>        <span class="hljs-comment">//Math是C#中封装好的用于数学计算的工具类 —— 位于System命名空间中</span><br><br>        <span class="hljs-comment">//Mathf是Unity中封装好的用于数学计算的工具结构体 —— 位于UnityEngine命名空间中</span><br><br>        <span class="hljs-comment">//他们都是提供来用于进行数学相关计算的</span><br>        <span class="hljs-meta">#<span class="hljs-keyword">endregion</span></span><br><br>        <span class="hljs-meta">#<span class="hljs-keyword">region</span> 知识点二 他们的区别</span><br>        <span class="hljs-comment">//Mathf 和 Math中的相关方法几乎一样</span><br>        <span class="hljs-comment">//Math 是C#自带的工具类 主要就提供一些数学相关计算方法</span><br>        <span class="hljs-comment">//Mathf 是Unity专门封装的，不仅包含Math中的方法，还多了一些适用于游戏开发的方法</span><br>        <span class="hljs-comment">//所以我们在进行Unity游戏开发时</span><br>        <span class="hljs-comment">//使用Mathf中的方法用于数学计算即可</span><br><br>        <span class="hljs-meta">#<span class="hljs-keyword">endregion</span></span><br><br>        <span class="hljs-meta">#<span class="hljs-keyword">region</span> 知识点三 Mathf中的常用方法——一般计算一次</span><br>        <span class="hljs-comment">//1.π - PI</span><br>        print(Mathf.PI);<br><br>        <span class="hljs-comment">//2.取绝对值 - Abs</span><br>        print(Mathf.Abs(<span class="hljs-number">-10</span>));<br>        print(Mathf.Abs(<span class="hljs-number">-20</span>));<br>        print(Mathf.Abs(<span class="hljs-number">1</span>));<br>        <span class="hljs-comment">//3.向上取整 - CeilToInt</span><br>        <span class="hljs-built_in">float</span> f = <span class="hljs-number">1.3f</span>;<br>        <span class="hljs-built_in">int</span> i = (<span class="hljs-built_in">int</span>)f;<br>        print(i);<br>        print(Mathf.CeilToInt(f));<br>        print(Mathf.CeilToInt(<span class="hljs-number">1.00001f</span>));<br><br>        <span class="hljs-comment">//4.向下取整 - FloorToInt</span><br>        print(Mathf.FloorToInt(<span class="hljs-number">9.6f</span>));<br><br>        <span class="hljs-comment">//5.钳制函数 - Clamp</span><br>        <span class="hljs-comment">// 第一个参数：变量，需要计算范围的值</span><br>        <span class="hljs-comment">// 第二个参数：范围值的最小值</span><br>        <span class="hljs-comment">// 第三个参数：范围值的最大值</span><br>        print(Mathf.Clamp(<span class="hljs-number">10</span>, <span class="hljs-number">11</span>, <span class="hljs-number">20</span>)); <span class="hljs-comment">// 11</span><br>        print(Mathf.Clamp(<span class="hljs-number">21</span>, <span class="hljs-number">11</span>, <span class="hljs-number">20</span>)); <span class="hljs-comment">// 20</span><br>        print(Mathf.Clamp(<span class="hljs-number">15</span>, <span class="hljs-number">11</span>, <span class="hljs-number">20</span>)); <span class="hljs-comment">// 15</span><br><br>        <span class="hljs-comment">//6.获取最大值 - Max</span><br>        print(Mathf.Max(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>, <span class="hljs-number">7</span>, <span class="hljs-number">8</span>));<br>        print(Mathf.Max(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>));<br><br>        <span class="hljs-comment">//7.获取最小值 - Min</span><br>        print(Mathf.Min(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">545</span>, <span class="hljs-number">6</span>, <span class="hljs-number">1123</span>, <span class="hljs-number">123</span>));<br>        print(Mathf.Min(<span class="hljs-number">1.1f</span>, <span class="hljs-number">0.4f</span>));<br><br>        <span class="hljs-comment">//8.一个数的n次幂 - Pow</span><br>        print(<span class="hljs-string">&quot;一个数的n次方&quot;</span> + Mathf.Pow(<span class="hljs-number">4</span>, <span class="hljs-number">2</span>));<br>        print(<span class="hljs-string">&quot;一个数的n次方&quot;</span> + Mathf.Pow(<span class="hljs-number">2</span>, <span class="hljs-number">3</span>));<br><br>        <span class="hljs-comment">//9.四舍五入 - RoundToInt</span><br>        print(<span class="hljs-string">&quot;四舍五入&quot;</span> + Mathf.RoundToInt(<span class="hljs-number">1.3f</span>));<br>        print(<span class="hljs-string">&quot;四舍五入&quot;</span> + Mathf.RoundToInt(<span class="hljs-number">1.5f</span>));<br><br>        <span class="hljs-comment">//10.返回一个数的平方根 - Sqrt</span><br>        print(<span class="hljs-string">&quot;返回一个数的平方根&quot;</span> + Mathf.Sqrt(<span class="hljs-number">4</span>));<br>        print(<span class="hljs-string">&quot;返回一个数的平方根&quot;</span> + Mathf.Sqrt(<span class="hljs-number">16</span>));<br>        print(<span class="hljs-string">&quot;返回一个数的平方根&quot;</span> + Mathf.Sqrt(<span class="hljs-number">64</span>));<br><br>        <span class="hljs-comment">//11.判断一个数是否是2的n次方 - IsPowerOfTwo</span><br>        print(<span class="hljs-string">&quot;判断一个数是否是2的n次方&quot;</span> + Mathf.IsPowerOfTwo(<span class="hljs-number">4</span>));<br>        print(<span class="hljs-string">&quot;判断一个数是否是2的n次方&quot;</span> + Mathf.IsPowerOfTwo(<span class="hljs-number">8</span>));<br>        print(<span class="hljs-string">&quot;判断一个数是否是2的n次方&quot;</span> + Mathf.IsPowerOfTwo(<span class="hljs-number">3</span>));<br>        print(<span class="hljs-string">&quot;判断一个数是否是2的n次方&quot;</span> + Mathf.IsPowerOfTwo(<span class="hljs-number">1</span>));<br><br>        <span class="hljs-comment">//12.判断正负数 - Sign</span><br>        print(<span class="hljs-string">&quot;判断正负数&quot;</span> + Mathf.Sign(<span class="hljs-number">0</span>)); <span class="hljs-comment">// 1</span><br>        print(<span class="hljs-string">&quot;判断正负数&quot;</span> + Mathf.Sign(<span class="hljs-number">10</span>)); <span class="hljs-comment">// 1</span><br>        print(<span class="hljs-string">&quot;判断正负数&quot;</span> + Mathf.Sign(<span class="hljs-number">-10</span>)); <span class="hljs-comment">// -1</span><br>        print(<span class="hljs-string">&quot;判断正负数&quot;</span> + Mathf.Sign(<span class="hljs-number">3</span>)); <span class="hljs-comment">// 1</span><br>        print(<span class="hljs-string">&quot;判断正负数&quot;</span> + Mathf.Sign(<span class="hljs-number">-2</span>)); <span class="hljs-comment">// -1</span><br>        <span class="hljs-meta">#<span class="hljs-keyword">endregion</span></span><br>    &#125;<br><br>    <span class="hljs-comment">//开始值</span><br>    <span class="hljs-built_in">float</span> start = <span class="hljs-number">0</span>;<br>    <span class="hljs-built_in">float</span> result = <span class="hljs-number">0</span>;<br>    <span class="hljs-built_in">float</span> time = <span class="hljs-number">0</span>;<br><br>    <span class="hljs-comment">// Update is called once per frame</span><br>    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Update</span>()</span><br>    &#123;<br>        <span class="hljs-meta">#<span class="hljs-keyword">region</span> 知识点四 Mathf中的常用方法——一般不停计算</span><br>        <span class="hljs-comment">//插值运算 - Lerp</span><br>        <span class="hljs-comment">// 应用场景，靠近某个物体的时候可以使用这个方法</span><br><br>        <span class="hljs-comment">//Lerp函数公式</span><br>        <span class="hljs-comment">//result = Mathf.Lerp(start, end, t);</span><br><br>        <span class="hljs-comment">//t为插值系数，取值范围为 0~1</span><br>        <span class="hljs-comment">//result = start + (end - start)*t</span><br><br>        <span class="hljs-comment">//插值运算用法一</span><br>        <span class="hljs-comment">//每帧改变start的值——变化速度先快后慢，位置无限接近，但是不会得到end位置</span><br>        <span class="hljs-comment">// 公式的意思是慢慢从start到end，但不会等于end，速度先快后慢，分析t的系数就知道了</span><br>        <span class="hljs-comment">// end是不变的，start一直变大</span><br>        start = Mathf.Lerp(start, <span class="hljs-number">10</span>, Time.deltaTime);<br><br>        <span class="hljs-comment">//插值运算用法二</span><br>        <span class="hljs-comment">//每帧改变t的值——变化速度匀速，位置每帧接近，当t&gt;=1时，得到结果</span><br>        <span class="hljs-comment">//result = start + (end - start)*t</span><br>        time += Time.deltaTime;<br>        result = Mathf.Lerp(start, <span class="hljs-number">10</span>, time);<br>        <span class="hljs-meta">#<span class="hljs-keyword">endregion</span></span><br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>


<h1 id="三角函数知识点"><a href="#三角函数知识点" class="headerlink" title="三角函数知识点"></a>三角函数知识点</h1><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><code class="hljs csharp"><span class="hljs-keyword">using</span> System.Collections;<br><span class="hljs-keyword">using</span> System.Collections.Generic;<br><span class="hljs-keyword">using</span> UnityEngine;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">Lesson2</span> : <span class="hljs-title">MonoBehaviour</span><br>&#123;<br>    <span class="hljs-comment">// Start is called before the first frame update</span><br>    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Start</span>()</span><br>    &#123;<br>        <span class="hljs-meta">#<span class="hljs-keyword">region</span> 知识点一 弧度、角度相互转化</span><br>        <span class="hljs-comment">//弧度转角度</span><br>        <span class="hljs-built_in">float</span> rad = <span class="hljs-number">1</span>;<br>        <span class="hljs-built_in">float</span> anger = rad * Mathf.Rad2Deg;<br>        print(anger);<br><br>        <span class="hljs-comment">//角度转弧度</span><br>        anger = <span class="hljs-number">1</span>;<br>        rad = anger * Mathf.Deg2Rad;<br>        print(rad);<br><br>        <span class="hljs-meta">#<span class="hljs-keyword">endregion</span></span><br><br>        <span class="hljs-meta">#<span class="hljs-keyword">region</span> 知识点二 三角函数</span><br>        <span class="hljs-comment">//注意：Mathf中的三角函数相关函数，传入的参数需要时弧度值</span><br>        print(Mathf.Sin(<span class="hljs-number">30</span> * Mathf.Deg2Rad)); <span class="hljs-comment">//0.5</span><br>        print(Mathf.Cos(<span class="hljs-number">60</span> * Mathf.Deg2Rad)); <span class="hljs-comment">//0.5</span><br>        <span class="hljs-meta">#<span class="hljs-keyword">endregion</span></span><br><br>        <span class="hljs-meta">#<span class="hljs-keyword">region</span> 知识点三 反三角函数</span><br>        <span class="hljs-comment">//注意：反三角函数得到的结果是 正弦或者余弦值对应的弧度</span><br>        rad = Mathf.Asin(<span class="hljs-number">0.5f</span>);<br>        print(rad * Mathf.Rad2Deg);<br>        rad = Mathf.Acos(<span class="hljs-number">0.5f</span>);<br>        print(rad * Mathf.Rad2Deg);<br>        <span class="hljs-meta">#<span class="hljs-keyword">endregion</span></span><br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<h1 id="坐标系知识点"><a href="#坐标系知识点" class="headerlink" title="坐标系知识点"></a>坐标系知识点</h1><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br></pre></td><td class="code"><pre><code class="hljs csharp"><span class="hljs-keyword">using</span> System.Collections;<br><span class="hljs-keyword">using</span> System.Collections.Generic;<br><span class="hljs-keyword">using</span> UnityEngine;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">Lesson3</span> : <span class="hljs-title">MonoBehaviour</span><br>&#123;<br>    <span class="hljs-comment">// Start is called before the first frame update</span><br>    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Start</span>()</span><br>    &#123;<br>        <span class="hljs-meta">#<span class="hljs-keyword">region</span> 知识点一 世界坐标系</span><br>        <span class="hljs-comment">//目前学习的和世界坐标系相关的</span><br>        <span class="hljs-comment">//this.transform.position;</span><br>        <span class="hljs-comment">//this.transform.rotation;</span><br>        <span class="hljs-comment">//this.transform.eulerAngles;</span><br>        <span class="hljs-comment">//this.transform.lossyScale;</span><br>        <span class="hljs-comment">//修改他们 会是相对世界坐标系的变化</span><br>        <span class="hljs-meta">#<span class="hljs-keyword">endregion</span></span><br><br>        <span class="hljs-meta">#<span class="hljs-keyword">region</span> 知识点二 物体坐标系</span><br>        <span class="hljs-comment">//相对父对象的物体坐标系的位置 本地坐标 相对坐标</span><br>        <span class="hljs-comment">//this.transform.localPosition;</span><br>        <span class="hljs-comment">//this.transform.localEulerAngles;</span><br>        <span class="hljs-comment">//this.transform.localRotation;</span><br>        <span class="hljs-comment">//this.transform.localScale;</span><br>        <span class="hljs-comment">//修改他们 会是相对父对象物体坐标系的变化</span><br>        <span class="hljs-meta">#<span class="hljs-keyword">endregion</span></span><br><br>        <span class="hljs-meta">#<span class="hljs-keyword">region</span> 知识点三 屏幕坐标系</span><br>        <span class="hljs-comment">//Input.mousePosition</span><br>        <span class="hljs-comment">//Screen.width;</span><br>        <span class="hljs-comment">//Screen.height;</span><br>        <span class="hljs-meta">#<span class="hljs-keyword">endregion</span></span><br><br>        <span class="hljs-meta">#<span class="hljs-keyword">region</span> 知识点四 视口坐标系</span><br>        <span class="hljs-comment">//摄像机上的 视口范围</span><br>        <span class="hljs-meta">#<span class="hljs-keyword">endregion</span></span><br><br>        <span class="hljs-meta">#<span class="hljs-keyword">region</span> 坐标转换相关</span><br>        <span class="hljs-comment">//世界转本地</span><br>        <span class="hljs-comment">//this.transform.InverseTransformDirection</span><br>        <span class="hljs-comment">//this.transform.InverseTransformPoint</span><br>        <span class="hljs-comment">//this.transform.InverseTransformVector</span><br><br>        <span class="hljs-comment">//本地转世界</span><br>        <span class="hljs-comment">//this.transform.TransformDirection</span><br>        <span class="hljs-comment">//this.transform.TransformPoint  </span><br>        <span class="hljs-comment">//this.transform.TransformVector</span><br><br>        <span class="hljs-comment">//世界转屏幕</span><br>        <span class="hljs-comment">//Camera.main.WorldToScreenPoint</span><br>        <span class="hljs-comment">//屏幕转世界</span><br>        <span class="hljs-comment">//Camera.main.ScreenToWorldPoint</span><br><br>        <span class="hljs-comment">//世界转视口</span><br>        <span class="hljs-comment">//Camera.main.WorldToViewportPoint</span><br>        <span class="hljs-comment">//视口转世界</span><br>        <span class="hljs-comment">//Camera.main.ViewportToWorldPoint</span><br><br>        <span class="hljs-comment">//视口转屏幕</span><br>        <span class="hljs-comment">//Camera.main.ViewportToScreenPoint</span><br>        <br>        <span class="hljs-comment">//屏幕转视口</span><br>        <span class="hljs-comment">//Camera.main.ScreenToViewportPoint;</span><br>        <br>        <span class="hljs-meta">#<span class="hljs-keyword">endregion</span></span><br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>


<p><img src="https://s2.loli.net/2024/11/26/YqhNfZwRkm98utc.png" srcset="/img/loading.gif" lazyload alt="Pasted image 20241122232147.png"><br><img src="https://s2.loli.net/2024/11/26/jJ8yR1xwYq3aiN9.png" srcset="/img/loading.gif" lazyload alt="Pasted image 20241122232036.png"><br><img src="https://s2.loli.net/2024/11/26/s7JjOvqdFahE5Bu.png" srcset="/img/loading.gif" lazyload alt="Pasted image 20241122232046.png"></p>
<p><img src="https://s2.loli.net/2024/11/26/4mgI68hjQGJ1LRX.png" srcset="/img/loading.gif" lazyload alt="Pasted image 20241122232054.png"></p>
<h1 id="向量模长和单位向量知识点"><a href="#向量模长和单位向量知识点" class="headerlink" title="向量模长和单位向量知识点"></a>向量模长和单位向量知识点</h1><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><code class="hljs csharp"><span class="hljs-keyword">using</span> System.Collections;<br><span class="hljs-keyword">using</span> System.Collections.Generic;<br><span class="hljs-keyword">using</span> UnityEngine;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">Lesson4</span> : <span class="hljs-title">MonoBehaviour</span><br>&#123;<br>    <span class="hljs-comment">// Start is called before the first frame update</span><br>    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Start</span>()</span><br>    &#123;<br>        <span class="hljs-meta">#<span class="hljs-keyword">region</span> 知识点一 向量</span><br>        <span class="hljs-comment">//三维向量 - Vector3</span><br>        <span class="hljs-comment">//Vector3有两种几何意义</span><br>        <span class="hljs-comment">//1.位置 —— 代表一个点</span><br>        print(<span class="hljs-keyword">this</span>.transform.position);<br><br>        <span class="hljs-comment">//2.方向 —— 代表一个方向</span><br>        print(<span class="hljs-keyword">this</span>.transform.forward);<br>        print(<span class="hljs-keyword">this</span>.transform.up);<br><br>        Vector3 v = <span class="hljs-keyword">new</span> Vector3(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>);<br>        Vector2 v2 = <span class="hljs-keyword">new</span> Vector2(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>);<br>        <span class="hljs-meta">#<span class="hljs-keyword">endregion</span></span><br><br>        <span class="hljs-meta">#<span class="hljs-keyword">region</span> 知识点二 两点决定一向量</span><br>        <span class="hljs-comment">//A和B此时 几何意义 是两个点</span><br>        Vector3 A = <span class="hljs-keyword">new</span> Vector3(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>);<br>        Vector3 B = <span class="hljs-keyword">new</span> Vector3(<span class="hljs-number">5</span>, <span class="hljs-number">1</span>, <span class="hljs-number">5</span>);<br>        <span class="hljs-comment">//求向量</span><br>        <span class="hljs-comment">//此时 AB和 BA 他们的几何意义 是两个向量</span><br>        Vector3 AB = B - A;<br>        Vector3 BA = A - B;<br>        <span class="hljs-meta">#<span class="hljs-keyword">endregion</span></span><br><br>        <span class="hljs-meta">#<span class="hljs-keyword">region</span> 知识点三 零向量和负向量</span><br>        print(Vector3.zero);<br><br>        print(Vector3.forward);<br>        <span class="hljs-comment">// 大小相同，方向相反</span><br>        print(-Vector3.forward);<br>        <span class="hljs-meta">#<span class="hljs-keyword">endregion</span></span><br><br>        <span class="hljs-meta">#<span class="hljs-keyword">region</span> 知识点四 向量的模长</span><br>        <span class="hljs-comment">//Vector3中提供了获取向量模长的成员属性</span><br>        <span class="hljs-comment">//magnitude</span><br>        print(AB.magnitude);<br>        Vector3 C = <span class="hljs-keyword">new</span> Vector3(<span class="hljs-number">5</span>, <span class="hljs-number">6</span>, <span class="hljs-number">7</span>);<br>        print(C.magnitude);<br><br>        print(Vector3.Distance(A, B));<br><br>        <span class="hljs-meta">#<span class="hljs-keyword">endregion</span></span><br><br>        <span class="hljs-meta">#<span class="hljs-keyword">region</span> 知识点五 单位向量</span><br>        <span class="hljs-comment">//Vector3中提供了获取单位向量的成员属性</span><br>        <span class="hljs-comment">//normalized</span><br>        print(AB.normalized);<br>        print(AB / AB.magnitude);<br>        <span class="hljs-meta">#<span class="hljs-keyword">endregion</span></span><br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<h1 id="向量加减乘除知识点"><a href="#向量加减乘除知识点" class="headerlink" title="向量加减乘除知识点"></a>向量加减乘除知识点</h1><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><code class="hljs csharp"><span class="hljs-keyword">using</span> System.Collections;<br><span class="hljs-keyword">using</span> System.Collections.Generic;<br><span class="hljs-keyword">using</span> UnityEngine;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">Lesson5</span> : <span class="hljs-title">MonoBehaviour</span><br>&#123;<br>    <span class="hljs-comment">// Start is called before the first frame update</span><br>    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Start</span>()</span><br>    &#123;<br>        <span class="hljs-meta">#<span class="hljs-keyword">region</span> 知识点一 向量加法</span><br>        <span class="hljs-comment">//this.transform.position += new Vector3(1, 2, 3);</span><br>        <span class="hljs-comment">// 当前的位置，加上Vector3.forward * 5</span><br>        <span class="hljs-keyword">this</span>.transform.Translate(Vector3.forward * <span class="hljs-number">5</span>);<br>        <span class="hljs-meta">#<span class="hljs-keyword">endregion</span></span><br><br>        <span class="hljs-meta">#<span class="hljs-keyword">region</span> 知识点二 向量减法</span><br>        <span class="hljs-comment">//this.transform.position -= new Vector3(1, 2, 3);</span><br>        <span class="hljs-comment">// 当前的位置，减去Vector3.forward * 5</span><br>        <span class="hljs-keyword">this</span>.transform.Translate(-Vector3.forward * <span class="hljs-number">5</span>);<br>        <span class="hljs-meta">#<span class="hljs-keyword">endregion</span></span><br><br>        <span class="hljs-meta">#<span class="hljs-keyword">region</span> 知识点三 向量乘除标量</span><br>        <span class="hljs-comment">// 这个如果没有父对象，localScale和lossyScale是一致的</span><br>        <span class="hljs-comment">// 改localScale和想要改lossyScale的效果一样</span><br>        <span class="hljs-keyword">this</span>.transform.localScale *= <span class="hljs-number">2</span>;<br>        <span class="hljs-comment">//this.transform.localScale /= 2;</span><br><br>        <span class="hljs-comment">// 报错，因为这个相对世界坐标系的大小是不能改的</span><br>        <span class="hljs-comment">// this.transform.lossyScale *= 2;</span><br>        <span class="hljs-meta">#<span class="hljs-keyword">endregion</span></span><br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<h1 id="向量点乘的知识点"><a href="#向量点乘的知识点" class="headerlink" title="向量点乘的知识点"></a>向量点乘的知识点</h1><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><code class="hljs csharp"><span class="hljs-keyword">using</span> System.Collections;<br><span class="hljs-keyword">using</span> System.Collections.Generic;<br><span class="hljs-keyword">using</span> UnityEngine;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">Lesson6</span> : <span class="hljs-title">MonoBehaviour</span><br>&#123;<br>    <span class="hljs-keyword">public</span> Transform target;<br><br>    <span class="hljs-comment">// Update is called once per frame</span><br>    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Update</span>()</span><br>    &#123;<br>        <span class="hljs-meta">#<span class="hljs-keyword">region</span> 补充知识 调试画线</span><br>        <span class="hljs-comment">//画线段</span><br>        <span class="hljs-comment">//前两个参数 分别是 起点 终点</span><br>        <span class="hljs-comment">// 第三个参数是颜色</span><br>        <span class="hljs-comment">//Debug.DrawLine(this.transform.position, this.transform.position + this.transform.forward, Color.red);</span><br>        <span class="hljs-comment">//画射线</span><br>        <span class="hljs-comment">//前两个参数 分别是 起点 方向</span><br>        <span class="hljs-comment">// 第三个参数是颜色</span><br>        <span class="hljs-comment">//Debug.DrawRay(this.transform.position, this.transform.forward, Color.white);</span><br>        <span class="hljs-meta">#<span class="hljs-keyword">endregion</span></span><br><br>        <span class="hljs-meta">#<span class="hljs-keyword">region</span> 知识点一 通过点乘判断对象方位</span><br>        <span class="hljs-comment">//Vector3 提供了计算点乘的方法</span><br>        Debug.DrawRay(<span class="hljs-keyword">this</span>.transform.position, <span class="hljs-keyword">this</span>.transform.forward, Color.red);<br>        Debug.DrawRay(<br>            <span class="hljs-keyword">this</span>.transform.position,<br>            target.position - <span class="hljs-keyword">this</span>.transform.position,<br>            Color.red<br>        );<br>        <span class="hljs-comment">//得到两个向量的点乘结果 Vector3.Dot()能计算两个向量的点乘</span><br>        <span class="hljs-comment">//向量 a 点乘 AB 的结果</span><br>        <span class="hljs-built_in">float</span> dotResult = Vector3.Dot(<br>            <span class="hljs-keyword">this</span>.transform.forward,<br>            target.position - <span class="hljs-keyword">this</span>.transform.position<br>        );<br>        <span class="hljs-keyword">if</span> (dotResult &gt;= <span class="hljs-number">0</span>)<br>        &#123;<br>            print(<span class="hljs-string">&quot;它在我前方&quot;</span>);<br>        &#125;<br>        <span class="hljs-keyword">else</span><br>        &#123;<br>            print(<span class="hljs-string">&quot;它在我后方&quot;</span>);<br>        &#125;<br>        <span class="hljs-meta">#<span class="hljs-keyword">endregion</span></span><br><br>        <span class="hljs-meta">#<span class="hljs-keyword">region</span> 知识点二 通过点乘推导公式算出夹角</span><br>        <span class="hljs-comment">//步骤</span><br>        <span class="hljs-comment">//1.用单位向量算出点乘结果</span><br>        <span class="hljs-comment">// β = arcos(A*B) *表示点乘</span><br>        <span class="hljs-comment">// A和B都是单位向量</span><br>        dotResult = Vector3.Dot(<br>            <span class="hljs-keyword">this</span>.transform.forward,<br>            (target.position - <span class="hljs-keyword">this</span>.transform.position).normalized<br>        );<br>        <span class="hljs-comment">//2.用反三角函数得出角度</span><br>        print(<span class="hljs-string">&quot;角度-&quot;</span> + Mathf.Acos(dotResult) * Mathf.Rad2Deg);<br><br>        <span class="hljs-comment">//Vector3中提供了 得到两个向量之间夹角的方法</span><br>        <span class="hljs-comment">// 参数可以不传递单位向量，里面做了模长的单位化</span><br>        <span class="hljs-comment">// 只能得到夹角的大小，左侧还是右侧需要用叉乘</span><br>        print(<br>            <span class="hljs-string">&quot;角度2-&quot;</span><br>                + Vector3.Angle(<span class="hljs-keyword">this</span>.transform.forward, target.position - <span class="hljs-keyword">this</span>.transform.position)<br>        );<br>        <span class="hljs-meta">#<span class="hljs-keyword">endregion</span></span><br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>


<p><img src="https://s2.loli.net/2024/11/26/2ASgOzjqC79We8w.png" srcset="/img/loading.gif" lazyload alt="Pasted image 20241123113843.png"><br><img src="https://s2.loli.net/2024/11/26/spXLGKN9uhPVYOb.png" srcset="/img/loading.gif" lazyload alt="Pasted image 20241123113853.png"></p>
<p><img src="https://s2.loli.net/2024/11/26/RI6zulCbY7yU259.png" srcset="/img/loading.gif" lazyload alt="Pasted image 20241123114612.png"></p>
<h1 id="向量叉乘知识点"><a href="#向量叉乘知识点" class="headerlink" title="向量叉乘知识点"></a>向量叉乘知识点</h1><ul>
<li><font color="red"> Unity3D中的是左手系</font></li>
</ul>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><code class="hljs csharp"><span class="hljs-keyword">using</span> System.Collections;<br><span class="hljs-keyword">using</span> System.Collections.Generic;<br><span class="hljs-keyword">using</span> UnityEngine;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">Lesson7</span> : <span class="hljs-title">MonoBehaviour</span><br>&#123;<br>    <span class="hljs-keyword">public</span> Transform A;<br>    <span class="hljs-keyword">public</span> Transform B;<br><br>    <span class="hljs-comment">// Start is called before the first frame update</span><br>    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Start</span>()</span><br>    &#123;<br>        <span class="hljs-meta">#<span class="hljs-keyword">region</span> 知识点一 叉乘计算</span><br>        <span class="hljs-comment">//print(Vector3.Cross(A.position, B.position));</span><br>        print(Vector3.Cross(Vector3.forward, Vector3.up)); <span class="hljs-comment">// (-1,0,0)</span><br>        <span class="hljs-meta">#<span class="hljs-keyword">endregion</span></span><br><br>        <span class="hljs-meta">#<span class="hljs-keyword">region</span> 知识点二 叉乘几何意义</span><br>        <span class="hljs-comment">//假设向量 A和B 都在 XZ平面上</span><br>        <span class="hljs-comment">//向量A 叉乘 向量 B</span><br>        <span class="hljs-comment">//y大于0 证明 B在A右侧</span><br>        <span class="hljs-comment">//y小于0 证明 B在A左侧</span><br>        <span class="hljs-comment">// y等于0 B和A是共线的 AXB = |A||B|sinθ</span><br>        <span class="hljs-comment">// 只能判断方向，不能判断角度，角度要用点乘</span><br>        <span class="hljs-meta">#<span class="hljs-keyword">endregion</span></span><br>    &#125;<br><br>    <span class="hljs-comment">// Update is called once per frame</span><br>    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Update</span>()</span><br>    &#123;<br>        <span class="hljs-comment">// 判断的是第二个参数是第一个参数的左侧还是右侧</span><br>        <span class="hljs-comment">//Vector3 C = Vector3.Cross(A.position, B.position);</span><br>        <span class="hljs-comment">//if( C.y &gt; 0)</span><br>        <span class="hljs-comment">//&#123;</span><br>        <span class="hljs-comment">//    print(&quot;B在A的右侧&quot;);</span><br>        <span class="hljs-comment">//&#125;</span><br>        <span class="hljs-comment">//else</span><br>        <span class="hljs-comment">//&#123;</span><br>        <span class="hljs-comment">//    print(&quot;B在A的左侧&quot;);</span><br>        <span class="hljs-comment">//&#125;</span><br><br>        Vector3 C = Vector3.Cross(B.position, A.position);<br>        <span class="hljs-keyword">if</span> (C.y &gt; <span class="hljs-number">0</span>)<br>        &#123;<br>            print(<span class="hljs-string">&quot;A在B的右侧&quot;</span>);<br>        &#125;<br>        <span class="hljs-keyword">else</span><br>        &#123;<br>            print(<span class="hljs-string">&quot;A在B的左侧&quot;</span>);<br>        &#125;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>


<p><img src="https://s2.loli.net/2024/11/26/25tiwqKCRpTmrDN.png" srcset="/img/loading.gif" lazyload alt="Pasted image 20241123120959.png"><br><img src="https://s2.loli.net/2024/11/26/u2FdtovylQeXIPC.png" srcset="/img/loading.gif" lazyload alt="Pasted image 20241123121029.png"></p>
<ul>
<li>这个视频里面的图是左手系，数学上是右手系，用右手螺旋定则来确定axb的方向，从向量a-&gt;向量b<br><img src="https://s2.loli.net/2024/11/26/3B8Zg1hLSGQXtMR.png" srcset="/img/loading.gif" lazyload alt=".png"></li>
</ul>
<h1 id="向量插值运算知识点"><a href="#向量插值运算知识点" class="headerlink" title="向量插值运算知识点"></a>向量插值运算知识点</h1><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><code class="hljs csharp"><span class="hljs-keyword">using</span> System.Collections;<br><span class="hljs-keyword">using</span> System.Collections.Generic;<br><span class="hljs-keyword">using</span> UnityEngine;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">Lesson8</span> : <span class="hljs-title">MonoBehaviour</span><br>&#123;<br>    <span class="hljs-keyword">public</span> Transform target;<br>    <span class="hljs-keyword">public</span> Transform A;<br>    <span class="hljs-keyword">public</span> Transform B;<br>    <span class="hljs-keyword">public</span> Transform C;<br><br>    <span class="hljs-keyword">private</span> Vector3 startPos;<br>    <span class="hljs-keyword">private</span> <span class="hljs-built_in">float</span> time;<br><br>    <span class="hljs-keyword">private</span> Vector3 nowTarget;<br><br>    <span class="hljs-comment">// Start is called before the first frame update</span><br>    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Start</span>()</span><br>    &#123;<br>        startPos = B.position;<br>    &#125;<br><br>    <span class="hljs-comment">// Update is called once per frame</span><br>    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Update</span>()</span><br>    &#123;<br>        <span class="hljs-meta">#<span class="hljs-keyword">region</span> 知识点一 线性插值</span><br>        <span class="hljs-comment">// 和Mathf.Lerp()的区别是，这个是一个三维坐标，改的是三维的向量</span><br>        <span class="hljs-comment">//result = start + (end - start) * t</span><br><br>        <span class="hljs-comment">//1.先快后慢 每帧改变start位置 位置无限接近 但不会得到end位置</span><br>        A.position = Vector3.Lerp(A.position, target.position, Time.deltaTime);<br><br>        <span class="hljs-comment">//2.匀速 每帧改变时间  当t&gt;=1时 得到结果</span><br>        <span class="hljs-comment">//这种匀速移动 当time&gt;=1时  我改变了 目标位置后  它会直接瞬移到我们的目标位置</span><br>        <span class="hljs-keyword">if</span> (nowTarget != target.position)<br>        &#123;<br>            nowTarget = target.position;<br>            time = <span class="hljs-number">0</span>;<br>            startPos = B.position;<br>        &#125;<br>        time += Time.deltaTime;<br>        B.position = Vector3.Lerp(startPos, nowTarget, time);<br>        <span class="hljs-meta">#<span class="hljs-keyword">endregion</span></span><br><br>        <span class="hljs-meta">#<span class="hljs-keyword">region</span> 知识点二 球形插值</span><br>        <span class="hljs-comment">// 球形插值可以模拟曲线运动，太阳东升西落，导弹发射</span><br>        C.position = Vector3.Slerp(<br>            Vector3.right * <span class="hljs-number">10</span>,<br>            Vector3.left * <span class="hljs-number">10</span> + Vector3.up * <span class="hljs-number">0.1f</span>,<br>            time * <span class="hljs-number">0.01f</span><br>        );<br>        <span class="hljs-meta">#<span class="hljs-keyword">endregion</span></span><br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>
<p><img src="https://s2.loli.net/2024/11/26/bavtd53WGAcsqP7.png" srcset="/img/loading.gif" lazyload alt="Pasted image 20241123123359.png"></p>
<h1 id="四元数基础知识"><a href="#四元数基础知识" class="headerlink" title="四元数基础知识"></a>四元数基础知识</h1><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><code class="hljs csharp"><span class="hljs-keyword">using</span> System.Collections;<br><span class="hljs-keyword">using</span> System.Collections.Generic;<br><span class="hljs-keyword">using</span> UnityEngine;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">Lesson10</span> : <span class="hljs-title">MonoBehaviour</span><br>&#123;<br>    <span class="hljs-comment">// Start is called before the first frame update</span><br>    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Start</span>()</span><br>    &#123;<br>        <span class="hljs-meta">#<span class="hljs-keyword">region</span> 知识点一 四元数 Quaternion</span><br>        <span class="hljs-comment">//四元数Q = [cos(β/2),  sin(β/2)x, sin(β/2)y, sin(β/2)z]</span><br>        <span class="hljs-comment">// Quaternion q = new Quaternion（sin(β/2)x,sin(β/2)y,sin(β/2)z,cos(β/2));</span><br>        <span class="hljs-comment">//计算原理</span><br>        <span class="hljs-comment">//Quaternion q = new Quaternion(Mathf.Sin(30 * Mathf.Deg2Rad), 0, 0, Mathf.Cos(30 * Mathf.Deg2Rad));</span><br>        <span class="hljs-comment">//提供的轴角对 初始化 四元数的方法</span><br>        <span class="hljs-comment">// 四元数Q=Quaternion.AngleAxis(角度，轴);</span><br>        Quaternion q = Quaternion.AngleAxis(<span class="hljs-number">60</span>, Vector3.right);<br><br>        <span class="hljs-comment">//创建一个立方体</span><br>        GameObject obj = GameObject.CreatePrimitive(PrimitiveType.Cube);<br>        obj.transform.rotation = q;<br><br>        <span class="hljs-meta">#<span class="hljs-keyword">endregion</span></span><br><br>        <span class="hljs-meta">#<span class="hljs-keyword">region</span> 知识点二 四元数和欧拉角转换</span><br>        <span class="hljs-comment">//1.欧拉角转四元数</span><br>        Quaternion q2 = Quaternion.Euler(<span class="hljs-number">60</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>);<br>        GameObject obj2 = GameObject.CreatePrimitive(PrimitiveType.Cube);<br>        obj2.transform.rotation = q2;<br>        <span class="hljs-comment">//2.四元数转欧拉角</span><br>        print(q2.eulerAngles);<br>        <span class="hljs-meta">#<span class="hljs-keyword">endregion</span></span><br><br>        <span class="hljs-meta">#<span class="hljs-keyword">region</span> 知识点三 四元数弥补的欧拉角缺点</span><br>        <span class="hljs-comment">//1.同一旋转的表示不唯一  四元数旋转后 转换后的欧拉角 始终是 -180~180度</span><br><br>        <span class="hljs-comment">//2.万向节死锁 通过四元数旋转对象可以避免万向节死锁</span><br><br>        <span class="hljs-meta">#<span class="hljs-keyword">endregion</span></span><br>    &#125;<br><br>    <span class="hljs-comment">// Update is called once per frame</span><br>    Vector3 e;<br><br>    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Update</span>()</span><br>    &#123;<br>        <span class="hljs-comment">// 四元数相乘代表旋转四元数</span><br>        <span class="hljs-comment">// 四元数只能表示-180到180的角度</span><br>        <span class="hljs-comment">// 第一个参数：正数，顺时针旋转，负数是逆时针旋转</span><br>        <span class="hljs-comment">// 第二个参数：Vector3.up虽然是世界坐标系，但是意思是物体自己的坐标系(1,0,0)旋转</span><br>        <span class="hljs-keyword">this</span>.transform.rotation *= Quaternion.AngleAxis(<span class="hljs-number">1</span>, Vector3.up);<br>        <span class="hljs-comment">// 万向节死锁</span><br>        <span class="hljs-comment">//e = this.transform.rotation.eulerAngles;</span><br>        <span class="hljs-comment">//e += Vector3.up;</span><br>        <span class="hljs-comment">//this.transform.rotation = Quaternion.Euler(e);</span><br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>


<p><img src="https://s2.loli.net/2024/11/26/SsHtLfodWJTxEiB.png" srcset="/img/loading.gif" lazyload alt="Pasted image 20241123185734.png"><br><img src="https://s2.loli.net/2024/11/26/Tx2JKY4IgsplzB5.png" srcset="/img/loading.gif" lazyload alt="Pasted image 20241123185807.png"></p>
<h1 id="四元数常用方法"><a href="#四元数常用方法" class="headerlink" title="四元数常用方法"></a>四元数常用方法</h1><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><code class="hljs csharp"><span class="hljs-keyword">using</span> System.Collections;<br><span class="hljs-keyword">using</span> System.Collections.Generic;<br><span class="hljs-keyword">using</span> UnityEngine;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">Lesson11</span> : <span class="hljs-title">MonoBehaviour</span><br>&#123;<br>    <span class="hljs-keyword">public</span> Transform testObj;<br><br>    <span class="hljs-keyword">public</span> Transform target;<br>    <span class="hljs-keyword">public</span> Transform A;<br>    <span class="hljs-keyword">public</span> Transform B;<br><br>    <span class="hljs-keyword">private</span> Quaternion start;<br>    <span class="hljs-keyword">private</span> <span class="hljs-built_in">float</span> time;<br><br>    <span class="hljs-keyword">public</span> Transform lookA;<br>    <span class="hljs-keyword">public</span> Transform lookB;<br><br>    <span class="hljs-comment">// Start is called before the first frame update</span><br>    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Start</span>()</span><br>    &#123;<br>        <span class="hljs-meta">#<span class="hljs-keyword">region</span> 知识点一 单位四元数</span><br>        <span class="hljs-comment">// 单位四元数角度的物体没有旋转角度</span><br>        print(Quaternion.identity);<br>        <span class="hljs-comment">//testObj.rotation = Quaternion.identity;</span><br><br>        Instantiate(testObj, Vector3.zero, Quaternion.identity);<br>        <span class="hljs-meta">#<span class="hljs-keyword">endregion</span></span><br><br>        <span class="hljs-meta">#<span class="hljs-keyword">region</span> 知识点二 插值运算</span><br>        start = B.transform.rotation;<br>        <span class="hljs-meta">#<span class="hljs-keyword">endregion</span></span><br>    &#125;<br><br>    <span class="hljs-comment">// Update is called once per frame</span><br>    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Update</span>()</span><br>    &#123;<br>        <span class="hljs-comment">//无限接近 先快后慢</span><br>        <span class="hljs-comment">// 第一个参数：起始物体的旋转角度</span><br>        <span class="hljs-comment">// 第二个参数：想要旋转到的最终的旋转角度</span><br>        <span class="hljs-comment">// 第三个参数：插值的系数</span><br>        A.transform.rotation = Quaternion.Slerp(<br>            A.transform.rotation,<br>            target.rotation,<br>            Time.deltaTime<br>        );<br><br>        <span class="hljs-comment">//匀速变化 time&gt;=1到达目标</span><br>        <span class="hljs-comment">// 第一个参数：起始物体的旋转角度</span><br>        <span class="hljs-comment">// 第二个参数：想要旋转到的最终的旋转角度</span><br>        <span class="hljs-comment">// 第三个参数：插值的系数</span><br>        time += Time.deltaTime;<br>        B.transform.rotation = Quaternion.Slerp(start, target.rotation, time);<br><br>        <span class="hljs-meta">#<span class="hljs-keyword">region</span> 知识点三 LookRotation</span><br>        <span class="hljs-comment">// 下面的方法可以让物体lookA看向物体lookB</span><br>        <span class="hljs-comment">//Quaternion q = Quaternion.LookRotation(lookB.position - lookA.position);</span><br>        <span class="hljs-comment">//lookA.rotation = q;</span><br>        <span class="hljs-comment">//lookA.MyLookAt(lookB);</span><br>        <span class="hljs-meta">#<span class="hljs-keyword">endregion</span></span><br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>



<p><img src="https://s2.loli.net/2024/11/26/GeY8pZdnj2ucy3v.png" srcset="/img/loading.gif" lazyload alt="Pasted image 20241123201218.png"></p>
<p><img src="https://s2.loli.net/2024/11/26/ExdD5nZWNXbcA91.png" srcset="/img/loading.gif" lazyload alt="Pasted image 20241123201244.png"><br><img src="https://s2.loli.net/2024/11/26/OiyhHmBItS2ZjQn.png" srcset="/img/loading.gif" lazyload alt="Pasted image 20241123201601.png"></p>
<h1 id="四元数计算"><a href="#四元数计算" class="headerlink" title="四元数计算"></a>四元数计算</h1><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><code class="hljs csharp"><span class="hljs-keyword">using</span> System.Collections;<br><span class="hljs-keyword">using</span> System.Collections.Generic;<br><span class="hljs-keyword">using</span> UnityEngine;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">Lesson12</span> : <span class="hljs-title">MonoBehaviour</span><br>&#123;<br>    <span class="hljs-comment">// Start is called before the first frame update</span><br>    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Start</span>()</span><br>    &#123;<br>        <span class="hljs-meta">#<span class="hljs-keyword">region</span> 知识点一 四元数相乘</span><br>        Quaternion q = Quaternion.AngleAxis(<span class="hljs-number">20</span>, Vector3.up);<br>        <span class="hljs-comment">// 物体绕物体自身的Y轴旋转20度</span><br>        <span class="hljs-keyword">this</span>.transform.rotation *= q;<br>        <span class="hljs-comment">// 物体绕物体自身的Y轴继续旋转20度</span><br>        <span class="hljs-keyword">this</span>.transform.rotation *= q;<br>        <span class="hljs-meta">#<span class="hljs-keyword">endregion</span></span><br><br>        <span class="hljs-meta">#<span class="hljs-keyword">region</span> 知识点二 四元数乘向量</span><br>        Vector3 v = Vector3.forward;<br>        print(v);<br>        <span class="hljs-comment">// 只能是四元数*向量，不能左边是向量，右边是四元数</span><br>        <span class="hljs-comment">// 这里是相当于将向量旋转了45度</span><br>        v = Quaternion.AngleAxis(<span class="hljs-number">45</span>, Vector3.up) * v;<br>        print(v);<br>        <span class="hljs-comment">// 这里是相当于将向量再旋转了45度</span><br>        v = Quaternion.AngleAxis(<span class="hljs-number">45</span>, Vector3.up) * v;<br>        print(v);<br>        <span class="hljs-meta">#<span class="hljs-keyword">endregion</span></span><br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<p><img src="https://s2.loli.net/2024/11/26/JKom2NcaYuvQb9R.png" srcset="/img/loading.gif" lazyload alt="Pasted image 20241123204357.png"></p>
<p><img src="https://s2.loli.net/2024/11/26/YoGINedp7RFQngK.png" srcset="/img/loading.gif" lazyload alt="Pasted image 20241123204935.png"></p>
<h1 id="MonoBehaviour中的重要内容-延迟函数"><a href="#MonoBehaviour中的重要内容-延迟函数" class="headerlink" title="MonoBehaviour中的重要内容-延迟函数"></a>MonoBehaviour中的重要内容-延迟函数</h1><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br></pre></td><td class="code"><pre><code class="hljs csharp"><span class="hljs-keyword">using</span> System.Collections;<br><span class="hljs-keyword">using</span> System.Collections.Generic;<br><span class="hljs-keyword">using</span> UnityEngine;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">Lesson13</span> : <span class="hljs-title">MonoBehaviour</span><br>&#123;<br>    <span class="hljs-keyword">public</span> Test t;<br><br>    <span class="hljs-comment">// Start is called before the first frame update</span><br>    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Start</span>()</span><br>    &#123;<br>        <span class="hljs-meta">#<span class="hljs-keyword">region</span> 知识点一 什么是延迟函数</span><br>        <span class="hljs-comment">//延迟函数顾名思义</span><br>        <span class="hljs-comment">//就是会延时执行的函数</span><br>        <span class="hljs-comment">//我们可以自己设定延时要执行的函数和具体延时的时间</span><br>        <span class="hljs-comment">//是MonoBehaviour基类中实现好的方法</span><br>        <span class="hljs-meta">#<span class="hljs-keyword">endregion</span></span><br><br>        <span class="hljs-meta">#<span class="hljs-keyword">region</span> 知识点二 延迟函数的使用</span><br>        <span class="hljs-comment">//1.延迟函数</span><br>        <span class="hljs-comment">//Invoke</span><br>        <span class="hljs-comment">//参数一：函数名 字符串</span><br>        <span class="hljs-comment">//参数二：延迟时间 秒为单位</span><br>        Invoke(<span class="hljs-string">&quot;DelayDoSomething&quot;</span>, <span class="hljs-number">1</span>);<br><br>        <span class="hljs-comment">//注意：</span><br>        <span class="hljs-comment">//1-1.延时函数第一个参数传入的是函数名字符串</span><br>        <span class="hljs-comment">//1-2.延时函数没办法传入参数，只有包裹一层，包裹的意思就是调用其他的没有参数的方法，而这个没有参数的方法会传入参数调用我们想要的方法</span><br>        <span class="hljs-comment">//1-3.函数名必须是该脚本上申明的函数，也就是只能调用Lesson13.cs这个里面的函数</span><br><br>        <span class="hljs-comment">//2.延迟重复执行函数</span><br>        <span class="hljs-comment">//InvokeRepeating</span><br>        <span class="hljs-comment">//参数一：函数名字符串</span><br>        <span class="hljs-comment">//参数二：第一次执行的延迟时间</span><br>        <span class="hljs-comment">//参数三：之后每次执行的间隔时间</span><br>        <span class="hljs-comment">// 第一次调用是第五秒的时候调用DelayRe()函数，第六秒，。。。之后每过一秒后再次调用</span><br>        InvokeRepeating(<span class="hljs-string">&quot;DelayRe&quot;</span>, <span class="hljs-number">5</span>, <span class="hljs-number">1</span>);<br><br>        <span class="hljs-comment">//注意：</span><br>        <span class="hljs-comment">//它的注意事项和延时函数一致</span><br><br>        <span class="hljs-comment">//3.取消延迟函数</span><br>        <span class="hljs-comment">//3-1取消该脚本上的所有延时函数执行</span><br>        <span class="hljs-comment">//CancelInvoke();</span><br><br>        <span class="hljs-comment">//3-2指定函数名取消</span><br>        <span class="hljs-comment">//只要取消了指定延迟，不管之前该函数开启了多少次，延迟执行都会统一取消</span><br>        <span class="hljs-comment">// 如果DelayDoSomething这个方法不存在或者并没有被延迟，那么执行下面的代码，也不会报错，只是没有效果</span><br>        <span class="hljs-comment">//CancelInvoke(&quot;DelayDoSomething&quot;);</span><br><br>        <span class="hljs-comment">//4.判断是否有延迟函数</span><br>        <span class="hljs-comment">// 如果延迟函数使用CancelInvoke()取消了，下面也无法判断到</span><br>        <span class="hljs-keyword">if</span> (IsInvoking())<br>        &#123;<br>            print(<span class="hljs-string">&quot;存在延迟函数&quot;</span>);<br>        &#125;<br>        <span class="hljs-keyword">if</span> (IsInvoking(<span class="hljs-string">&quot;DelayDoSomething&quot;</span>))<br>        &#123;<br>            print(<span class="hljs-string">&quot;存在延迟函数DelayDoSomething&quot;</span>);<br>        &#125;<br>        <span class="hljs-meta">#<span class="hljs-keyword">endregion</span></span><br><br>        <span class="hljs-meta">#<span class="hljs-keyword">region</span> 知识点三 延迟函数受对象失活销毁影响</span><br>        <span class="hljs-comment">//脚本依附对象失活 或者 脚本自己失活</span><br>        <span class="hljs-comment">//延迟函数可以继续执行 不会受到影响的</span><br><br>        <span class="hljs-comment">//脚本依附对象销毁或者脚本移除</span><br>        <span class="hljs-comment">//延迟函数无法继续执行</span><br>        <span class="hljs-meta">#<span class="hljs-keyword">endregion</span></span><br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title">OnEnable</span>()</span><br>    &#123;<br>        <span class="hljs-comment">//对象激活 的生命周期函数中 开启延迟（重复执行的延迟）</span><br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title">OnDisable</span>()</span><br>    &#123;<br>        <span class="hljs-comment">//对象失活 的生命周期函数中 停止延迟</span><br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title">DelayDoSomething</span>()</span><br>    &#123;<br>        print(<span class="hljs-string">&quot;延时执行的函数&quot;</span>);<br><br>        TestFun(<span class="hljs-number">2</span>);<br><br>        t.TestFun();<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title">DelayRe</span>()</span><br>    &#123;<br>        print(<span class="hljs-string">&quot;重复执行&quot;</span>);<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title">TestFun</span>()</span><br>    &#123;<br>        print(<span class="hljs-string">&quot;无参重载&quot;</span>);<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title">TestFun</span>(<span class="hljs-params"><span class="hljs-built_in">int</span> i</span>)</span><br>    &#123;<br>        print(<span class="hljs-string">&quot;传入参数&quot;</span> + i);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<h1 id="MonoBehaviour中的重要内容-协同程序"><a href="#MonoBehaviour中的重要内容-协同程序" class="headerlink" title="MonoBehaviour中的重要内容-协同程序"></a>MonoBehaviour中的重要内容-协同程序</h1><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br></pre></td><td class="code"><pre><code class="hljs csharp"><span class="hljs-keyword">using</span> System.Collections;<br><span class="hljs-keyword">using</span> System.Collections.Generic;<br><span class="hljs-keyword">using</span> System.Threading;<br><span class="hljs-keyword">using</span> UnityEngine;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">Lesson14</span> : <span class="hljs-title">MonoBehaviour</span><br>&#123;<br>    Thread t;<br><br>    <span class="hljs-comment">//申明一个变量作为一个公共内存容器</span><br>    Queue&lt;Vector3&gt; queue = <span class="hljs-keyword">new</span> Queue&lt;Vector3&gt;();<br><br>    Queue&lt;Vector3&gt; queue2 = <span class="hljs-keyword">new</span> Queue&lt;Vector3&gt;();<br><br>    <span class="hljs-comment">// Start is called before the first frame update</span><br>    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Start</span>()</span><br>    &#123;<br>        <span class="hljs-meta">#<span class="hljs-keyword">region</span> 知识点一 Unity是否支持多线程？</span><br>        <span class="hljs-comment">//首先要明确一点</span><br>        <span class="hljs-comment">//Unity是支持多线程的</span><br>        <span class="hljs-comment">//只是新开线程无法访问Unity相关对象的内容</span><br>        <span class="hljs-comment">// 所以线程一般用来计算一些复杂的内容</span><br><br>        <span class="hljs-comment">//注意：Unity中的多线程 要记住关闭</span><br>        <span class="hljs-comment">// 否则在Unity中，还会继续运行线程，这个线程和Unity编辑器是共生的</span><br><br>        t = <span class="hljs-keyword">new</span> Thread(Test);<br>        <span class="hljs-comment">//t.Start();</span><br>        <span class="hljs-meta">#<span class="hljs-keyword">endregion</span></span><br><br>        <span class="hljs-meta">#<span class="hljs-keyword">region</span> 知识点二 协同程序是什么？</span><br>        <span class="hljs-comment">//协同程序简称协程</span><br>        <span class="hljs-comment">//它是“假”的多线程，它不是多线程</span><br><br>        <span class="hljs-comment">//它的主要作用</span><br>        <span class="hljs-comment">//将代码分时执行，不卡主线程</span><br>        <span class="hljs-comment">//简单理解，是把可能会让主线程卡顿的耗时的逻辑分时分步执行</span><br><br>        <span class="hljs-comment">//主要使用场景</span><br>        <span class="hljs-comment">//异步加载文件</span><br>        <span class="hljs-comment">//异步下载文件</span><br>        <span class="hljs-comment">//场景异步加载</span><br>        <span class="hljs-comment">//批量创建时防止卡顿</span><br>        <span class="hljs-meta">#<span class="hljs-keyword">endregion</span></span><br><br>        <span class="hljs-meta">#<span class="hljs-keyword">region</span> 知识点三 协同程序和线程的区别</span><br>        <span class="hljs-comment">//新开一个线程是独立的一个管道，和主线程并行执行</span><br>        <span class="hljs-comment">//新开一个协程是在原线程之上开启，进行逻辑分时分步执行</span><br>        <span class="hljs-meta">#<span class="hljs-keyword">endregion</span></span><br><br>        <span class="hljs-meta">#<span class="hljs-keyword">region</span> 知识点四 协程的使用</span><br>        <span class="hljs-comment">//继承MonoBehavior的类 都可以开启 协程函数</span><br>        <span class="hljs-comment">//第一步：申明协程函数</span><br>        <span class="hljs-comment">//  协程函数2个关键点</span><br>        <span class="hljs-comment">//  1-1返回值为IEnumerator类型及其子类</span><br>        <span class="hljs-comment">//  1-2函数中通过 yield return 返回值; 进行返回</span><br><br>        <span class="hljs-comment">//第二步：开启协程函数</span><br>        <span class="hljs-comment">//协程函数 是不能够 直接这样去执行的！！！！！！！</span><br>        <span class="hljs-comment">//这样执行没有任何效果</span><br>        <span class="hljs-comment">//MyCoroutine(1, &quot;123&quot;);</span><br>        <span class="hljs-comment">//常用开启方式</span><br>        <span class="hljs-comment">//IEnumerator ie = MyCoroutine(1, &quot;123&quot;);</span><br>        <span class="hljs-comment">//StartCoroutine(ie);</span><br>        Coroutine c1 = StartCoroutine(MyCoroutine(<span class="hljs-number">1</span>, <span class="hljs-string">&quot;123&quot;</span>));<br>        Coroutine c2 = StartCoroutine(MyCoroutine(<span class="hljs-number">1</span>, <span class="hljs-string">&quot;123&quot;</span>));<br>        Coroutine c3 = StartCoroutine(MyCoroutine(<span class="hljs-number">1</span>, <span class="hljs-string">&quot;123&quot;</span>));<br><br>        <span class="hljs-comment">//第三步：关闭协程</span><br>        <span class="hljs-comment">//关闭所有协程</span><br>        <span class="hljs-comment">// 这样只会打印三个1，就不会继续执行了</span><br>        StopAllCoroutines();<br><br>        <span class="hljs-comment">//关闭指定协程，如果c1协程被关闭了</span><br>        <span class="hljs-comment">// 再次关闭不会报错</span><br>        StopCoroutine(c1);<br><br>        <span class="hljs-meta">#<span class="hljs-keyword">endregion</span></span><br><br>        <span class="hljs-meta">#<span class="hljs-keyword">region</span> 知识点五 yield return 不同内容的含义</span><br>        <span class="hljs-comment">//1.下一帧执行</span><br>        <span class="hljs-comment">//yield return 数字;</span><br>        <span class="hljs-comment">//yield return null;</span><br>        <span class="hljs-comment">//在Update和LateUpdate之间执行</span><br><br>        <span class="hljs-comment">//2.等待指定秒后执行</span><br>        <span class="hljs-comment">//yield return new WaitForSeconds(秒);</span><br>        <span class="hljs-comment">//在Update和LateUpdate之间执行</span><br><br>        <span class="hljs-comment">//3.等待下一个固定物理帧更新时执行</span><br>        <span class="hljs-comment">//yield return new WaitForFixedUpdate();</span><br>        <span class="hljs-comment">//在FixedUpdate和碰撞检测相关函数之后执行</span><br><br>        <span class="hljs-comment">//4.等待摄像机和GUI渲染完成后执行</span><br>        <span class="hljs-comment">//yield return new WaitForEndOfFrame();</span><br>        <span class="hljs-comment">//在LateUpdate之后的渲染相关处理完毕后之后</span><br><br>        <span class="hljs-comment">//5.一些特殊类型的对象 比如异步加载相关函数返回的对象</span><br>        <span class="hljs-comment">//之后讲解 异步加载资源 异步加载场景 网络加载时再讲解</span><br>        <span class="hljs-comment">//一般在Update和LateUpdate之间执行</span><br><br>        <span class="hljs-comment">//6.跳出协程</span><br>        <span class="hljs-comment">//yield break;</span><br>        <span class="hljs-meta">#<span class="hljs-keyword">endregion</span></span><br><br>        <span class="hljs-meta">#<span class="hljs-keyword">region</span> 知识点六 协程受对象和组件失活销毁的影响</span><br>        <span class="hljs-comment">//协程开启后</span><br>        <span class="hljs-comment">//组件和物体销毁，协程不执行</span><br>        <span class="hljs-comment">//物体失活协程不执行，组件失活协程执行</span><br>        <span class="hljs-meta">#<span class="hljs-keyword">endregion</span></span><br>    &#125;<br><br>    <span class="hljs-comment">// Update is called once per frame</span><br>    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Update</span>()</span><br>    &#123;<br>        <span class="hljs-keyword">if</span> (queue.Count &gt; <span class="hljs-number">0</span>)<br>        &#123;<br>            <span class="hljs-keyword">this</span>.transform.position = queue.Dequeue();<br>        &#125;<br>    &#125;<br><br>    <span class="hljs-comment">//关键点一： 协同程序（协程）函数 返回值 必须是 IEnumerator或者继承它的类型</span><br>    <span class="hljs-function">IEnumerator <span class="hljs-title">MyCoroutine</span>(<span class="hljs-params"><span class="hljs-built_in">int</span> i, <span class="hljs-built_in">string</span> str</span>)</span><br>    &#123;<br>        print(i);<br>        <span class="hljs-comment">//关键点二： 协程函数当中 必须使用 yield return 进行返回</span><br>        <span class="hljs-keyword">yield</span> <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;<br>        print(str);<br>        <span class="hljs-function"><span class="hljs-keyword">yield</span> <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title">WaitForSeconds</span>(<span class="hljs-params"><span class="hljs-number">1f</span></span>)</span>;<br>        <span class="hljs-comment">//1秒过后，在Update和LateUpdate之间执行下一行代码</span><br>        print(<span class="hljs-string">&quot;2&quot;</span>);<br>        <span class="hljs-function"><span class="hljs-keyword">yield</span> <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title">WaitForFixedUpdate</span>()</span>;<br>        print(<span class="hljs-string">&quot;3&quot;</span>);<br>        <span class="hljs-comment">//主要会用来 截图时 会使用</span><br>        <span class="hljs-function"><span class="hljs-keyword">yield</span> <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title">WaitForEndOfFrame</span>()</span>;<br><br>        <span class="hljs-keyword">while</span> (<span class="hljs-literal">true</span>)<br>        &#123;<br>            print(<span class="hljs-string">&quot;5&quot;</span>);<br>            <span class="hljs-function"><span class="hljs-keyword">yield</span> <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title">WaitForSeconds</span>(<span class="hljs-params"><span class="hljs-number">5f</span></span>)</span>;<br>        &#125;<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Test</span>()</span><br>    &#123;<br>        <span class="hljs-keyword">while</span> (<span class="hljs-literal">true</span>)<br>        &#123;<br>            Thread.Sleep(<span class="hljs-number">1000</span>);<br>            <span class="hljs-comment">//相当于模拟 复杂算法 算出了一个结果 然后放入公共容器中</span><br>            System.Random r = <span class="hljs-keyword">new</span> System.Random();<br>            queue.Enqueue(<span class="hljs-keyword">new</span> Vector3(r.Next(<span class="hljs-number">-10</span>, <span class="hljs-number">10</span>), r.Next(<span class="hljs-number">-10</span>, <span class="hljs-number">10</span>), r.Next(<span class="hljs-number">-10</span>, <span class="hljs-number">10</span>)));<br>            print(<span class="hljs-string">&quot;123&quot;</span>);<br>        &#125;<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title">OnDestroy</span>()</span><br>    &#123;<br>        t.Abort();<br>        t = <span class="hljs-literal">null</span>;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<h1 id="MonoBehaviour中的重要内容-协同程序原理"><a href="#MonoBehaviour中的重要内容-协同程序原理" class="headerlink" title="MonoBehaviour中的重要内容-协同程序原理"></a>MonoBehaviour中的重要内容-协同程序原理</h1><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br></pre></td><td class="code"><pre><code class="hljs csharp"><span class="hljs-keyword">using</span> System.Collections;<br><span class="hljs-keyword">using</span> System.Collections.Generic;<br><span class="hljs-keyword">using</span> UnityEngine;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">TestClass</span><br>&#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-built_in">int</span> time;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">TestClass</span>(<span class="hljs-params"><span class="hljs-built_in">int</span> time</span>)</span><br>    &#123;<br>        <span class="hljs-keyword">this</span>.time = time;<br>    &#125;<br>&#125;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">Lesson15</span> : <span class="hljs-title">MonoBehaviour</span><br>&#123;<br><br>    <span class="hljs-function">IEnumerator <span class="hljs-title">Test</span>()</span><br>    &#123;<br>        print(<span class="hljs-string">&quot;第一次执行&quot;</span>);<br>        <span class="hljs-keyword">yield</span> <span class="hljs-keyword">return</span> <span class="hljs-number">1</span>;<br>        print(<span class="hljs-string">&quot;第二次执行&quot;</span>);<br>        <span class="hljs-keyword">yield</span> <span class="hljs-keyword">return</span> <span class="hljs-number">2</span>;<br>        print(<span class="hljs-string">&quot;第三次执行&quot;</span>);<br>        <span class="hljs-keyword">yield</span> <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;123&quot;</span>;<br>        print(<span class="hljs-string">&quot;第四次执行&quot;</span>);<br>        <span class="hljs-function"><span class="hljs-keyword">yield</span> <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title">TestClass</span>(<span class="hljs-params"><span class="hljs-number">10</span></span>)</span>;<br>    &#125;<br><br>    <span class="hljs-comment">// Start is called before the first frame update</span><br>    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Start</span>()</span><br>    &#123;<br>        <span class="hljs-meta">#<span class="hljs-keyword">region</span> 知识点一 协程的本质</span><br>        <span class="hljs-comment">//协程可以分成两部分</span><br>        <span class="hljs-comment">//1.协程函数本体</span><br>        <span class="hljs-comment">//2.协程调度器</span><br><br>        <span class="hljs-comment">//协程本体就是一个能够中间暂停返回的函数</span><br>        <span class="hljs-comment">//协程调度器是Unity内部实现的，会在对应的时机帮助我们继续执行协程函数</span><br><br>        <span class="hljs-comment">//Unity只实现了协程调度部分</span><br>        <span class="hljs-comment">//协程的本体本质上就是一个 C#的迭代器方法</span><br>        <span class="hljs-meta">#<span class="hljs-keyword">endregion</span></span><br><br>        <span class="hljs-meta">#<span class="hljs-keyword">region</span> 知识点二 协程本体是迭代器方法的体现</span><br>        <span class="hljs-comment">//1.协程函数本体</span><br>        <span class="hljs-comment">//如果我们不通过 开启协程方法执行协程 </span><br>        <span class="hljs-comment">//Unity的协程调度器是不会帮助我们管理协程函数的</span><br>        IEnumerator ie = Test();<br><br>        <span class="hljs-comment">//但是我们可以自己执行迭代器函数内容</span><br>        <span class="hljs-comment">//ie.MoveNext();//会执行函数中内容遇到 yield return为止的逻辑</span><br>        <span class="hljs-comment">//print(ie.Current);//得到 yield return 返回的内容</span><br><br>        <span class="hljs-comment">//ie.MoveNext();</span><br>        <span class="hljs-comment">//print(ie.Current);</span><br><br>        <span class="hljs-comment">//ie.MoveNext();</span><br>        <span class="hljs-comment">//print(ie.Current);</span><br><br>        <span class="hljs-comment">//ie.MoveNext();</span><br>        <span class="hljs-comment">//TestClass tc = ie.Current as TestClass;</span><br>        <span class="hljs-comment">//print(tc.time);</span><br><br>        <span class="hljs-comment">//MoveNext 返回值 代表着 是否到了结尾（这个迭代器函数 是否执行完毕）</span><br>        <span class="hljs-keyword">while</span>(ie.MoveNext())<br>        &#123;<br>            print(ie.Current);<br>        &#125;<br><br>        <span class="hljs-comment">//2.协程调度器</span><br>        <span class="hljs-comment">//继承MonoBehavior后 开启协程</span><br>        <span class="hljs-comment">//相当于是把一个协程函数（迭代器）放入Unity的协程调度器中帮助我们管理进行执行</span><br>        <span class="hljs-comment">//具体的yield return 后面的规则 也是Unity定义的一些规则</span><br><br>        <span class="hljs-comment">//总结</span><br>        <span class="hljs-comment">//你可以简化理解迭代器函数</span><br>        <span class="hljs-comment">//C#看到迭代器函数和yield return 语法糖</span><br>        <span class="hljs-comment">//就会把原本是一个的 函数 变成&quot;几部分&quot;</span><br>        <span class="hljs-comment">//我们可以通过迭代器 从上到下遍历这 &quot;几部分&quot;进行执行</span><br>        <span class="hljs-comment">//就达到了将一个函数中的逻辑分时执行的目的</span><br><br>        <span class="hljs-comment">//而协程调度器就是 利用迭代器函数返回的内容来进行之后的处理</span><br>        <span class="hljs-comment">//比如Unity中的协程调度器</span><br>        <span class="hljs-comment">//根据yield return 返回的内容 决定了下一次在何时继续执行迭代器函数中的&quot;下一部分&quot;</span><br><br>        <span class="hljs-comment">//理论上来说 我们可以利用迭代器函数的特点 自己实现协程调度器来取代Unity自带的调度器</span><br>        <span class="hljs-meta">#<span class="hljs-keyword">endregion</span></span><br><br>        <span class="hljs-meta">#<span class="hljs-keyword">region</span> 总结</span><br>        <span class="hljs-comment">//协程的本质 就是利用 </span><br>        <span class="hljs-comment">//C#的迭代器函数&quot;分步执行&quot;的特点</span><br>        <span class="hljs-comment">//加上</span><br>        <span class="hljs-comment">//协程调度逻辑</span><br>        <span class="hljs-comment">//实现的一套分时执行函数的规则</span><br>        <span class="hljs-meta">#<span class="hljs-keyword">endregion</span></span><br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<h1 id="特殊文件夹知识点"><a href="#特殊文件夹知识点" class="headerlink" title="特殊文件夹知识点"></a>特殊文件夹知识点</h1><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br></pre></td><td class="code"><pre><code class="hljs csharp"><span class="hljs-keyword">using</span> System.Collections;<br><span class="hljs-keyword">using</span> System.Collections.Generic;<br><span class="hljs-keyword">using</span> UnityEngine;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">Lesson16</span> : <span class="hljs-title">MonoBehaviour</span><br>&#123;<br>    <span class="hljs-comment">// Start is called before the first frame update</span><br>    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Start</span>()</span><br>    &#123;<br>        <span class="hljs-meta">#<span class="hljs-keyword">region</span> 知识点一 工程路径获取</span><br>        <span class="hljs-comment">//注意 该方式 获取到的路径 一般情况下 只在 编辑模式下使用</span><br>        <span class="hljs-comment">//我们不会在实际发布游戏后 还使用该路径</span><br>        <span class="hljs-comment">//游戏发布过后 该路径就不存在了</span><br>        <span class="hljs-comment">// 得到的是开发的Assets路径</span><br>        print(Application.dataPath);<br>        <span class="hljs-meta">#<span class="hljs-keyword">endregion</span></span><br><br>        <span class="hljs-meta">#<span class="hljs-keyword">region</span> 知识点二 Resources 资源文件夹</span><br>        <span class="hljs-comment">//路径获取：</span><br>        <span class="hljs-comment">//一般不获取</span><br>        <span class="hljs-comment">//只能使用Resources相关API进行加载</span><br>        <span class="hljs-comment">//如果硬要获取 可以用工程路径拼接</span><br>        print(Application.dataPath + <span class="hljs-string">&quot;/Resources&quot;</span>);<br><br>        <span class="hljs-comment">//注意：</span><br>        <span class="hljs-comment">//需要我们自己将创建Resources文件夹在Assets文件夹下</span><br>        <span class="hljs-comment">//作用：</span><br>        <span class="hljs-comment">//资源文件夹</span><br>        <span class="hljs-comment">//1-1.需要通过Resources相关API动态加载的资源需要放在其中</span><br>        <span class="hljs-comment">//1-2.该文件夹下所有文件都会被打包出去</span><br>        <span class="hljs-comment">//1-3.打包时Unity会对其压缩加密</span><br>        <span class="hljs-comment">//1-4.该文件夹打包后只读，只能通过Resources相关API加载</span><br>        <span class="hljs-meta">#<span class="hljs-keyword">endregion</span></span><br><br>        <span class="hljs-meta">#<span class="hljs-keyword">region</span> 知识点三 StreamingAssets 流动资源文件夹</span><br>        <span class="hljs-comment">//路径获取：</span><br>        print(Application.streamingAssetsPath);<br>        <span class="hljs-comment">//注意：</span><br>        <span class="hljs-comment">//需要我们自己将创建StreamingAssets文件夹在Assets文件夹下</span><br>        <span class="hljs-comment">//作用：</span><br>        <span class="hljs-comment">//流文件夹</span><br>        <span class="hljs-comment">//2-1.打包出去不会被压缩加密，可以任由我们摆布</span><br>        <span class="hljs-comment">//2-2.移动平台只读，PC平台可读可写</span><br>        <span class="hljs-comment">//2-3.可以放入一些需要自定义动态加载的初始资源</span><br>        <span class="hljs-meta">#<span class="hljs-keyword">endregion</span></span><br><br>        <span class="hljs-meta">#<span class="hljs-keyword">region</span> 知识点四 persistentDataPath 持久数据文件夹</span><br>        <span class="hljs-comment">//路径获取：</span><br>        print(Application.persistentDataPath);<br><br>        <span class="hljs-comment">//注意：</span><br>        <span class="hljs-comment">//不需要我们自己将创建</span><br>        <span class="hljs-comment">//作用：</span><br>        <span class="hljs-comment">//固定数据文件夹</span><br>        <span class="hljs-comment">//3-1.所有平台都可读可写</span><br>        <span class="hljs-comment">//3-2.一般用于放置动态下载或者动态创建的文件，游戏中创建或者获取的文件都放在其中</span><br>        <span class="hljs-meta">#<span class="hljs-keyword">endregion</span></span><br><br>        <span class="hljs-meta">#<span class="hljs-keyword">region</span> 知识点五 Plugins 插件文件夹</span><br>        <span class="hljs-comment">//路径获取：</span><br>        <span class="hljs-comment">//一般不获取</span><br><br>        <span class="hljs-comment">//注意：</span><br>        <span class="hljs-comment">//需要我们自己将创建Plugins文件夹在Assets文件夹下</span><br>        <span class="hljs-comment">//作用：</span><br>        <span class="hljs-comment">//插件文件夹，使用别人开发好的插件或者代码</span><br>        <span class="hljs-comment">//不同平台的插件相关文件放在其中</span><br>        <span class="hljs-comment">//比如IOS和Android平台</span><br>        <span class="hljs-meta">#<span class="hljs-keyword">endregion</span></span><br><br>        <span class="hljs-meta">#<span class="hljs-keyword">region</span> 知识点六 Editor 编辑器文件夹</span><br>        <span class="hljs-comment">//路径获取：</span><br>        <span class="hljs-comment">//一般不获取</span><br>        <span class="hljs-comment">//如果硬要获取 可以用工程路径拼接</span><br>        print(Application.dataPath + <span class="hljs-string">&quot;/Editor&quot;</span>);<br><br>        <span class="hljs-comment">//注意：</span><br>        <span class="hljs-comment">//需要我们自己将创建Editor文件夹在Assets文件夹下</span><br>        <span class="hljs-comment">//作用：</span><br>        <span class="hljs-comment">//编辑器文件夹</span><br>        <span class="hljs-comment">//5-1.开发Unity编辑器时，编辑器相关脚本放在该文件夹中</span><br>        <span class="hljs-comment">//5-2.该文件夹中内容不会被打包出去</span><br>        <span class="hljs-meta">#<span class="hljs-keyword">endregion</span></span><br><br>        <span class="hljs-meta">#<span class="hljs-keyword">region</span> 知识点七 默认资源文件夹 Standard Assets</span><br>        <span class="hljs-comment">//路劲过去：</span><br>        <span class="hljs-comment">//一般不获取</span><br><br>        <span class="hljs-comment">//注意：</span><br>        <span class="hljs-comment">//需要我们自己将创建文件夹Standard Assets在Assets文件夹下</span><br>        <span class="hljs-comment">//作用：</span><br>        <span class="hljs-comment">//默认资源文件夹</span><br>        <span class="hljs-comment">//一般Unity自带资源都放在这个文件夹下</span><br>        <span class="hljs-comment">//代码和资源优先被编译</span><br>        <span class="hljs-meta">#<span class="hljs-keyword">endregion</span></span><br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<h1 id="Resources资源同步加载知识点"><a href="#Resources资源同步加载知识点" class="headerlink" title="Resources资源同步加载知识点"></a>Resources资源同步加载知识点</h1><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br></pre></td><td class="code"><pre><code class="hljs csharp"><span class="hljs-keyword">using</span> System.Collections;<br><span class="hljs-keyword">using</span> System.Collections.Generic;<br><span class="hljs-keyword">using</span> UnityEngine;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">Lesson17</span> : <span class="hljs-title">MonoBehaviour</span><br>&#123;<br>    <span class="hljs-keyword">public</span> AudioSource audioS;<br><br>    <span class="hljs-keyword">private</span> Texture tex;<br><br>    <span class="hljs-comment">// Start is called before the first frame update</span><br>    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Start</span>()</span><br>    &#123;<br>        <span class="hljs-meta">#<span class="hljs-keyword">region</span> 知识点一 Resources资源动态加载的作用</span><br>        <span class="hljs-comment">//1.通过代码动态加载Resources文件夹下指定路径资源</span><br>        <span class="hljs-comment">//2.避免繁琐的拖曳操作</span><br>        <span class="hljs-meta">#<span class="hljs-keyword">endregion</span></span><br><br>        <span class="hljs-meta">#<span class="hljs-keyword">region</span> 知识点二 常用资源类型</span><br>        <span class="hljs-comment">//1.预设体对象——GameObject</span><br>        <span class="hljs-comment">//2.音效文件——AudioClip</span><br>        <span class="hljs-comment">//3.文本文件——TextAsset 只支持特定类型的文本</span><br>        <span class="hljs-comment">//4.图片文件——Texture</span><br>        <span class="hljs-comment">//5.其它类型——需要什么用什么类型</span><br><br>        <span class="hljs-comment">//注意：</span><br>        <span class="hljs-comment">//预设体对象加载需要实例化</span><br>        <span class="hljs-comment">//其它资源加载一般直接用</span><br>        <span class="hljs-meta">#<span class="hljs-keyword">endregion</span></span><br><br>        <span class="hljs-meta">#<span class="hljs-keyword">region</span> 知识点三 资源同步加载 普通方法</span><br>        <span class="hljs-comment">//在一个工程当中 Resources文件夹 可以有多个 通过API加载时 它会自己去这些同名的Resources文件夹中去找资源</span><br>        <span class="hljs-comment">// 如果有重名的，会按照Assets里面的顺序，找到的第一个资源来进行实例化</span><br>        <span class="hljs-comment">//打包时 Resources文件夹 里的内容 都会打包在一起</span><br>        <span class="hljs-comment">// Unity 使用 文件的完整相对路径（相对于 Resources 文件夹）来区分资源，而不仅仅是文件名</span><br><br>        <span class="hljs-comment">//1.预设体对象 想要创建在场景上 记住实例化</span><br>        <span class="hljs-comment">// 第一步：要去加载预设体的资源文件(本质上 就是加载 配置数据 在内存中)</span><br>        <span class="hljs-comment">// 如果有Resouces/Resouces/下有Cube，可以找到</span><br>        <span class="hljs-comment">// Resouces/Lesson17/Cube 就找不到，必须指定为Resouces.Load(&quot;Lesson17/Cube&quot;);</span><br>        Object obj = Resources.Load(<span class="hljs-string">&quot;Cube&quot;</span>);<br>        <span class="hljs-comment">//第二步：如果想要在场景上 创建预设体 一定是加载配置文件过后 然后实例化</span><br>        Instantiate(obj);<br><br>        <span class="hljs-comment">// 第一步：要去加载预设体的资源文件(本质上 就是加载 配置数据 在内存中)</span><br>        Object obj2 = Resources.Load(<span class="hljs-string">&quot;Sphere&quot;</span>);<br>        <span class="hljs-comment">//第二步：如果想要在场景上 创建预设体 一定是加载配置文件过后 然后实例化</span><br>        Instantiate(obj2);<br><br>        <span class="hljs-comment">//2.音效资源</span><br>        <span class="hljs-comment">//第一步：就是加载数据</span><br>        Object obj3 = Resources.Load(<span class="hljs-string">&quot;Music/BKMusic&quot;</span>);<br>        <span class="hljs-comment">//第二步：使用数据 我们不需要实例化 音效切片 我们只需要把数据 赋值到正确的脚本上即可</span><br>        audioS.clip = obj3 <span class="hljs-keyword">as</span> AudioClip;<br>        audioS.Play();<br><br>        <span class="hljs-comment">//3.文本资源</span><br>        <span class="hljs-comment">//文本资源支持的格式</span><br>        <span class="hljs-comment">//.txt</span><br>        <span class="hljs-comment">//.xml</span><br>        <span class="hljs-comment">//.bytes</span><br>        <span class="hljs-comment">//.json</span><br>        <span class="hljs-comment">//.html</span><br>        <span class="hljs-comment">//.csv</span><br>        <span class="hljs-comment">//.....</span><br>        TextAsset ta = Resources.Load(<span class="hljs-string">&quot;Txt/Test&quot;</span>) <span class="hljs-keyword">as</span> TextAsset;<br>        <span class="hljs-comment">//文本内容</span><br>        print(ta.text);<br>        <span class="hljs-comment">//字节数据组</span><br>        <span class="hljs-comment">//print(ta.bytes);</span><br><br>        <span class="hljs-comment">//4.图片</span><br>        <span class="hljs-comment">//tex = Resources.Load(&quot;Tex/TestJPG&quot;) as Texture;</span><br><br>        <span class="hljs-comment">//5.其它类型 需要什么类型 就用什么类型就行</span><br>        <span class="hljs-comment">// 动画</span><br><br>        <span class="hljs-comment">//6.问题：资源同名怎么办</span><br>        <span class="hljs-comment">//Resources.Load加载同名资源时，但是后缀不一样，无法准确加载出你想要的内容</span><br><br>        <span class="hljs-comment">//可以使用另外的API</span><br>        <span class="hljs-comment">//6-1加载指定类型的资源</span><br>        <span class="hljs-comment">//tex = Resources.Load(&quot;Tex/TestJPG&quot;, typeof(Texture)) as Texture;</span><br><br>        ta = Resources.Load(<span class="hljs-string">&quot;Tex/TestJPG&quot;</span>, <span class="hljs-keyword">typeof</span>(TextAsset)) <span class="hljs-keyword">as</span> TextAsset;<br>        <span class="hljs-comment">//print(ta.text);</span><br><br>        <span class="hljs-comment">//6-2加载指定名字的所有资源</span><br>        Object[] objs = Resources.LoadAll(<span class="hljs-string">&quot;Tex/TestJPG&quot;</span>);<br>        <span class="hljs-keyword">foreach</span> (Object item <span class="hljs-keyword">in</span> objs)<br>        &#123;<br>            <span class="hljs-keyword">if</span> (item <span class="hljs-keyword">is</span> Texture) &#123; &#125;<br>            <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (item <span class="hljs-keyword">is</span> TextAsset) &#123; &#125;<br>        &#125;<br><br>        <span class="hljs-meta">#<span class="hljs-keyword">endregion</span></span><br><br>        <span class="hljs-meta">#<span class="hljs-keyword">region</span> 知识点四 资源同步加载 泛型方法</span><br><br>        <span class="hljs-comment">//TextAsset ta2 = Resources.Load&lt;TextAsset&gt;(&quot;Tex/TestJPG&quot;);</span><br>        <span class="hljs-comment">//print(ta2.text);</span><br><br>        <span class="hljs-comment">//tex = Resources.Load&lt;Texture&gt;(&quot;Tex/TestJPG&quot;);</span><br><br>        <span class="hljs-meta">#<span class="hljs-keyword">endregion</span></span><br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title">OnGUI</span>()</span><br>    &#123;<br>        GUI.DrawTexture(<span class="hljs-keyword">new</span> Rect(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">100</span>, <span class="hljs-number">100</span>), tex);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<h1 id="Resouces资源异步加载知识点"><a href="#Resouces资源异步加载知识点" class="headerlink" title="Resouces资源异步加载知识点"></a>Resouces资源异步加载知识点</h1><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br></pre></td><td class="code"><pre><code class="hljs csharp"><span class="hljs-keyword">using</span> System.Collections;<br><span class="hljs-keyword">using</span> System.Collections.Generic;<br><span class="hljs-keyword">using</span> UnityEngine;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">Lesson18</span> : <span class="hljs-title">MonoBehaviour</span><br>&#123;<br>    <span class="hljs-keyword">private</span> Texture tex;<br>    <span class="hljs-comment">// Start is called before the first frame update</span><br>    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Start</span>()</span><br>    &#123;<br>        <span class="hljs-meta">#<span class="hljs-keyword">region</span> 知识点一 Resources异步加载是什么？</span><br>        <span class="hljs-comment">//上节课学习的同步加载中</span><br>        <span class="hljs-comment">//如果我们加载过大的资源可能会造成程序卡顿</span><br>        <span class="hljs-comment">//卡顿的原因就是 从硬盘上把数据读取到内存中 是需要进行计算的</span><br>        <span class="hljs-comment">//越大的资源耗时越长，就会造成掉帧卡顿</span><br><br>        <span class="hljs-comment">//Resources异步加载 就是内部新开一个线程进行资源加载 不会造成主线程卡顿</span><br>        <span class="hljs-meta">#<span class="hljs-keyword">endregion</span></span><br><br>        <span class="hljs-meta">#<span class="hljs-keyword">region</span> 知识点二 Resources异步加载方法</span><br>        <span class="hljs-comment">//注意：</span><br>        <span class="hljs-comment">//异步加载 不能马上得到加载的资源 至少要等一帧</span><br><br>        <span class="hljs-comment">//1.通过异步加载中的完成事件监听 使用加载的资源</span><br>        <span class="hljs-comment">//这句代码 你可以理解 Unity 在内部 就会去开一个线程进行资源下载</span><br>        <span class="hljs-comment">//ResourceRequest rq = Resources.LoadAsync&lt;Texture&gt;(&quot;Tex/TestJPG&quot;);</span><br>        <span class="hljs-comment">//马上进行一个 资源下载结束 的一个事件函数监听</span><br>        <span class="hljs-comment">//rq.completed += LoadOver;</span><br>        print(Time.frameCount);<br>        <span class="hljs-comment">//这个 刚刚执行了异步加载的 执行代码 资源还没有加载完毕 这样用 是不对的 </span><br>        <span class="hljs-comment">//一定要等加载结束过后 才能使用</span><br>        <span class="hljs-comment">//rq.asset ××××××××××××</span><br><br>        <span class="hljs-comment">//2.通过协程 使用加载的资源</span><br>        StartCoroutine(Load());<br>        <span class="hljs-meta">#<span class="hljs-keyword">endregion</span></span><br><br>        <span class="hljs-meta">#<span class="hljs-keyword">region</span> 总结</span><br>        <span class="hljs-comment">//1.完成事件监听异步加载</span><br>        <span class="hljs-comment">//好处：写法简单</span><br>        <span class="hljs-comment">//坏处：只能在资源加载结束后 进行处理</span><br>        <span class="hljs-comment">//“线性加载”</span><br><br>        <span class="hljs-comment">//2.协程异步加载</span><br>        <span class="hljs-comment">//好处：可以在协程中处理复杂逻辑，比如同时加载多个资源，比如进度条更新</span><br>        <span class="hljs-comment">//坏处：写法稍麻烦</span><br>        <span class="hljs-comment">//“并行加载”</span><br><br>        <span class="hljs-comment">//注意：</span><br>        <span class="hljs-comment">//理解为什么异步加载不能马上加载结束，为什么至少要等1帧</span><br>        <span class="hljs-comment">//理解协程异步加载的原理</span><br>        <span class="hljs-meta">#<span class="hljs-keyword">endregion</span></span><br>    &#125;<br><br>    <span class="hljs-function">IEnumerator <span class="hljs-title">Load</span>()</span><br>    &#123;<br>        <span class="hljs-comment">//迭代器函数 当遇到yield return时  就会 停止执行之后的代码</span><br>        <span class="hljs-comment">//然后 协程协调器 通过得到 返回的值 去判断 下一次执行后面的步骤 将会是何时</span><br>        ResourceRequest rq = Resources.LoadAsync&lt;Texture&gt;(<span class="hljs-string">&quot;Tex/TestJPG&quot;</span>);<br>        print(Time.frameCount);<br>        <span class="hljs-comment">//第一部分</span><br>        <span class="hljs-comment">//Unity 自己知道 该返回值 意味着你在异步加载资源 </span><br>        <span class="hljs-comment">//yield return rq;</span><br>        <span class="hljs-comment">//Unity 会自己判断 该资源是否加载完毕了 加载完毕过后 才会继续执行后面的代码</span><br>        print(Time.frameCount);<br>        <br>        <span class="hljs-comment">//判断资源是否加载结束</span><br>        <span class="hljs-keyword">while</span>(!rq.isDone)<br>        &#123;<br>            <span class="hljs-comment">//打印当前的 加载进度 </span><br>            <span class="hljs-comment">//该进度 不会特别准确 过渡也不是特别明显</span><br>            print(rq.progress);<br>            <span class="hljs-keyword">yield</span> <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;<br>        &#125;<br>        tex = rq.asset <span class="hljs-keyword">as</span> Texture;<br><br>        <span class="hljs-comment">//yield return null;</span><br>        <span class="hljs-comment"><span class="hljs-doctag">///</span>/第二部分</span><br>        <span class="hljs-comment">//yield return new WaitForSeconds(2f);</span><br>        <span class="hljs-comment"><span class="hljs-doctag">///</span>/第三部分</span><br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title">LoadOver</span>(<span class="hljs-params"> AsyncOperation rq</span>)</span><br>    &#123;<br>        print(<span class="hljs-string">&quot;加载结束&quot;</span>);<br>        <span class="hljs-comment">//asset 是资源对象 加载完毕过后 就能够得到它</span><br>        tex = (rq <span class="hljs-keyword">as</span> ResourceRequest).asset <span class="hljs-keyword">as</span> Texture;<br>        print(Time.frameCount);<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title">OnGUI</span>()</span><br>    &#123;<br>        <span class="hljs-keyword">if</span>( tex != <span class="hljs-literal">null</span>)<br>            GUI.DrawTexture(<span class="hljs-keyword">new</span> Rect(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">100</span>, <span class="hljs-number">100</span>), tex);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<h1 id="Resouces资源卸载"><a href="#Resouces资源卸载" class="headerlink" title="Resouces资源卸载"></a>Resouces资源卸载</h1><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><code class="hljs csharp"><span class="hljs-keyword">using</span> System;<br><span class="hljs-keyword">using</span> System.Collections;<br><span class="hljs-keyword">using</span> System.Collections.Generic;<br><span class="hljs-keyword">using</span> UnityEngine;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">Lesson19</span> : <span class="hljs-title">MonoBehaviour</span><br>&#123;<br>    <span class="hljs-keyword">private</span> Texture tex;<br>    <span class="hljs-comment">// Start is called before the first frame update</span><br>    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Start</span>()</span><br>    &#123;<br>        <span class="hljs-meta">#<span class="hljs-keyword">region</span> 知识点一 Resources重复加载资源会浪费内存吗？</span><br>        <span class="hljs-comment">//其实Resources加载一次资源过后</span><br>        <span class="hljs-comment">//该资源就一直存放在内存中作为缓存</span><br>        <span class="hljs-comment">//第二次加载时发现缓存中存在该资源</span><br>        <span class="hljs-comment">//会直接取出来进行使用</span><br>        <span class="hljs-comment">//所以 多次重复加载不会浪费内存</span><br>        <span class="hljs-comment">//但是 会浪费性能（每次加载都会去查找取出，始终伴随一些性能消耗）</span><br><br>        <span class="hljs-meta">#<span class="hljs-keyword">endregion</span></span><br><br>        <span class="hljs-meta">#<span class="hljs-keyword">region</span> 知识点二 如何手动释放掉缓存中的资源</span><br>        <span class="hljs-comment">//1.卸载指定资源</span><br>        <span class="hljs-comment">//Resources.UnloadAsset 方法</span><br>        <span class="hljs-comment">//注意：</span><br>        <span class="hljs-comment">//该方法 不能释放 GameObject对象 因为它会用于实例化对象</span><br>        <span class="hljs-comment">//它只能用于一些 不需要实例化的内容 比如 图片 和 音效 文本等等</span><br>        <span class="hljs-comment">//一般情况下 我们很少单独使用它</span><br>        <span class="hljs-comment">//GameObject obj = Resources.Load&lt;GameObject&gt;(&quot;Cube&quot;);</span><br>        <span class="hljs-comment">//即使是没有实例化的 GameObject对象也不能进行卸载</span><br>        <span class="hljs-comment">//Resources.UnloadAsset(obj);</span><br><br>        <span class="hljs-comment">//2.卸载未使用的资源</span><br>        <span class="hljs-comment">//注意：</span><br>        <span class="hljs-comment">//一般在过场景时和GC一起使用</span><br>        Resources.UnloadUnusedAssets();<br>        GC.Collect();<br>        <br>        <span class="hljs-meta">#<span class="hljs-keyword">endregion</span></span><br><br>        <span class="hljs-meta">#<span class="hljs-keyword">region</span> 总结</span><br>        <span class="hljs-comment">//Resources.UnloadAsset 卸载指定资源 但是不能卸载GameObject对象</span><br>        <span class="hljs-comment">//Resources.UnloadUnusedAssets 卸载未使用资源 一般过场景时配合GC使用</span><br>        <span class="hljs-meta">#<span class="hljs-keyword">endregion</span></span><br>    &#125;<br><br>    <span class="hljs-comment">// Update is called once per frame</span><br>    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Update</span>()</span><br>    &#123;<br>        <span class="hljs-keyword">if</span>(Input.GetKeyDown(KeyCode.Alpha1))<br>        &#123;<br>            print(<span class="hljs-string">&quot;加载资源&quot;</span>);<br>            tex = Resources.Load&lt;Texture&gt;(<span class="hljs-string">&quot;Tex/TestJPG&quot;</span>);<br>        &#125;<br>        <span class="hljs-keyword">if</span>(Input.GetKeyDown(KeyCode.Alpha2))<br>        &#123;<br>            print(<span class="hljs-string">&quot;卸载资源&quot;</span>);<br>            Resources.UnloadAsset(tex);<br>            tex = <span class="hljs-literal">null</span>;<br>        &#125;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<p><img src="https://s2.loli.net/2024/11/26/pPIinzefQrOWoJD.png" srcset="/img/loading.gif" lazyload alt="Pasted image 20241123235440.png"></p>
<p><img src="https://s2.loli.net/2024/11/26/ihbKJMAySflZ9Uo.png" srcset="/img/loading.gif" lazyload alt="Pasted image 20241123235502.png"></p>
<h1 id="场景异步加载"><a href="#场景异步加载" class="headerlink" title="场景异步加载"></a>场景异步加载</h1><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br></pre></td><td class="code"><pre><code class="hljs csharp"><span class="hljs-keyword">using</span> System.Collections;<br><span class="hljs-keyword">using</span> System.Collections.Generic;<br><span class="hljs-keyword">using</span> UnityEngine;<br><span class="hljs-keyword">using</span> UnityEngine.SceneManagement;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">Lesson20</span> : <span class="hljs-title">MonoBehaviour</span><br>&#123;<br>    <span class="hljs-comment">// Start is called before the first frame update</span><br>    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Start</span>()</span><br>    &#123;<br>        <span class="hljs-meta">#<span class="hljs-keyword">region</span> 知识点一 回顾场景同步切换</span><br><br>        <span class="hljs-comment">//SceneManager.LoadScene(&quot;Lesson20Test&quot;);</span><br><br>        <span class="hljs-meta">#<span class="hljs-keyword">region</span> 场景同步切换的缺点</span><br>        <span class="hljs-comment">//在切换场景时</span><br>        <span class="hljs-comment">//Unity会删除当前场景上所有对象</span><br>        <span class="hljs-comment">//并且去加载下一个场景的相关信息</span><br>        <span class="hljs-comment">//如果当前场景 对象过多或者下一个场景对象过多</span><br>        <span class="hljs-comment">//这个过程会非常的耗时 会让玩家感受到卡顿</span><br><br>        <span class="hljs-comment">//所以异步切换就是来解决该问题的</span><br>        <span class="hljs-meta">#<span class="hljs-keyword">endregion</span></span><br>        <span class="hljs-meta">#<span class="hljs-keyword">endregion</span></span><br><br>        <span class="hljs-meta">#<span class="hljs-keyword">region</span> 知识点二 场景异步切换</span><br>        <span class="hljs-comment">//场景异步加载和资源异步加载 几乎一致 有两种方式</span><br><br>        <span class="hljs-comment">//1.通过事件回调函数 异步加载</span><br>        <span class="hljs-comment">//AsyncOperation ao = SceneManager.LoadSceneAsync(&quot;Lesson20Test&quot;);</span><br>        <span class="hljs-comment">//当场景异步加载结束后 就会自动调用该事件函数 我们如果希望在加载结束后 做一些事情 那么久可以在该函数中</span><br>        <span class="hljs-comment">//写处理逻辑</span><br>        <span class="hljs-comment">//ao.completed += (a) =&gt;</span><br>        <span class="hljs-comment">//&#123;</span><br>        <span class="hljs-comment">//    print(&quot;加载结束&quot;);</span><br>        <span class="hljs-comment">//&#125;;</span><br><br>        <span class="hljs-comment">//ao.completed += LoadOver;</span><br><br><br>        <span class="hljs-comment">//2.通过协程异步加载</span><br>        <span class="hljs-comment">//需要注意的是 加载场景会把当前场景上 没有特别处理的对象 都删除了</span><br>        <span class="hljs-comment">//所以 协程中的部分逻辑 可能是执行不了的</span><br>        <span class="hljs-comment">//解决思路</span><br>        <span class="hljs-comment">//让处理场景加载的脚本依附的对象 过场景时 不被移除</span><br><br>        <span class="hljs-comment">//该脚本依附的对象 过场景时 不会被 移除</span><br>        DontDestroyOnLoad(<span class="hljs-keyword">this</span>.gameObject);<br><br>        StartCoroutine(LoadScene(<span class="hljs-string">&quot;Lesson20Test&quot;</span>));<br>        <span class="hljs-meta">#<span class="hljs-keyword">endregion</span></span><br><br>        <span class="hljs-meta">#<span class="hljs-keyword">region</span> 总结</span><br>        <span class="hljs-comment">//场景异步加载 和 资源异步加载 一样</span><br>        <span class="hljs-comment">//有两种方式</span><br>        <span class="hljs-comment">//1.通过事件回调函数</span><br>        <span class="hljs-comment">//2.协程异步加载</span><br><br>        <span class="hljs-comment">//他们的优缺点表现和资源异步加载 也是一样的</span><br>        <span class="hljs-comment">//1.事件回调函数</span><br>        <span class="hljs-comment">//优点：写法简单，逻辑清晰</span><br>        <span class="hljs-comment">//缺点：只能加载完场景做一些事情 不能再加载过程中处理逻辑</span><br>        <span class="hljs-comment">//2.协程异步加载</span><br>        <span class="hljs-comment">//优点：可以在加载过程中处理逻辑，比如进度条更新等</span><br>        <span class="hljs-comment">//缺点：写法较为麻烦，要通过协程</span><br><br>        <span class="hljs-meta">#<span class="hljs-keyword">endregion</span></span><br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title">LoadOver</span>(<span class="hljs-params">AsyncOperation ao</span>)</span><br>    &#123;<br>        print(<span class="hljs-string">&quot;LoadOver&quot;</span>);<br>    &#125;<br><br>    <span class="hljs-function">IEnumerator <span class="hljs-title">LoadScene</span>(<span class="hljs-params"><span class="hljs-built_in">string</span> name</span>)</span><br>    &#123;<br>        <span class="hljs-comment">//第一步</span><br>        <span class="hljs-comment">//异步加载场景</span><br>        AsyncOperation ao = SceneManager.LoadSceneAsync(name);<br>        <span class="hljs-comment">//Unity内部的 协程协调器 发现是异步加载类型的返回对象 那么就会等待</span><br>        <span class="hljs-comment">//等待异步加载结束后 才会继续执行 迭代器函数中后面的步骤</span><br>        <span class="hljs-comment">//2.通过协程异步加载</span><br>        <span class="hljs-comment">//需要注意的是,加载场景会把当前场景上没有特别处理的对象都删除了</span><br>        <span class="hljs-comment">// 此时的对象删除了，对象上的脚本也无法正常执行</span><br>        <span class="hljs-comment">//所以协程中的部分逻辑可能是执行不了的</span><br>        <span class="hljs-comment">//解决思路</span><br>        <span class="hljs-comment">//让处理场景加载的脚本依附的对象 过场景时 不被移除</span><br><br>        print(<span class="hljs-string">&quot;异步加载过程中 打印的信息&quot;</span>);<br>        <span class="hljs-comment">//协程的好处 是异步加载场景时 我可以在加载的同时 做一些别的逻辑</span><br>        <span class="hljs-comment">//yield return ao;</span><br>        <span class="hljs-comment">//第二步</span><br>        print(<span class="hljs-string">&quot;异步加载结束后 打印的信息&quot;</span>);<br><br>        <span class="hljs-comment">//比如 我们可以在异步加载过程中 去更新进度条</span><br>        <span class="hljs-comment">//第一种 就是利用 场景异步加载 的进度 去更新 但是 不是特别准确 一般也不会直接用</span><br>        <span class="hljs-comment">//while(!ao.isDone)</span><br>        <span class="hljs-comment">//&#123;</span><br>        <span class="hljs-comment">//    print(ao.progress);</span><br>        <span class="hljs-comment">//    yield return null;</span><br>        <span class="hljs-comment">//&#125;</span><br><br>        <span class="hljs-comment">//离开循环后 就会认为场景加载结束</span><br>        <span class="hljs-comment">//可以把进度条顶满 然后 隐藏进度条</span><br><br>        <span class="hljs-comment">//第二种 就是根据你游戏的规则 自己定义 进度条变化的条件</span><br>        <span class="hljs-keyword">yield</span> <span class="hljs-keyword">return</span> ao;<br>        <span class="hljs-comment">//场景加载结束 更新20%进度</span><br>        <span class="hljs-comment">//接着去加载场景中 的其它信息</span><br>        <span class="hljs-comment">//比如</span><br>        <span class="hljs-comment">//动态加载怪物</span><br>        <span class="hljs-comment">//这时 进度条 再更新20%</span><br>        <span class="hljs-comment">//动态加载 场景模型</span><br>        <span class="hljs-comment">//这时 就认为 加载结束了 进度条顶满</span><br>        <span class="hljs-comment">//隐藏进度条</span><br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<ul>
<li>File-&gt;Build Setting<br><img src="https://s2.loli.net/2024/11/26/Cih3rkgmMxfE6Iv.png" srcset="/img/loading.gif" lazyload alt="Pasted image 20241124105711.png"></li>
</ul>
<p><img src="https://s2.loli.net/2024/11/26/IQvOKB45eul8AWH.png" srcset="/img/loading.gif" lazyload alt="Pasted image 20241124105856.png"></p>
<h1 id="LineRenderer知识点"><a href="#LineRenderer知识点" class="headerlink" title="LineRenderer知识点"></a>LineRenderer知识点</h1><ul>
<li>Loop<ul>
<li>勾选后会将起点和终点连起来</li>
</ul>
</li>
<li>Positions<ul>
<li>线段的点，会首尾相连</li>
<li>是世界坐标系</li>
</ul>
</li>
<li>Width<ul>
<li>线段宽度曲线调整</li>
<li>可以右键 Add Key修改</li>
</ul>
</li>
<li>Color<ul>
<li>颜色</li>
</ul>
</li>
<li>CornerVertices角顶点，圆角)<ul>
<li>此属性指示在一条线中绘制角时使用了多少额外的顶点。增加此值，使线角看起来更圆</li>
</ul>
</li>
<li>End CapVertices（终端顶点，圆角)<ul>
<li>终点圆角</li>
</ul>
</li>
<li>Alignment 对齐方式<ul>
<li>View 视点 线段对着摄像机</li>
<li>Transform Z 线段面对其Z轴</li>
</ul>
</li>
<li>Texture Mode 纹理模式<ul>
<li>Stretch 拉伸 沿整条线映射纹理一次</li>
<li>Tile  瓷砖平铺 不停的重复纹理</li>
<li>Distribute Per Segment  分配执行</li>
<li>Repeat Per Segment 重复显示</li>
</ul>
</li>
<li>Shadow Bias 阴影偏移</li>
<li>Generate Lighting Data 生成光源数据<ul>
<li>如果材质球，是受到光影响的，那么这个选项就需要勾选</li>
</ul>
</li>
<li>Use World Space  是否使用世界坐标系</li>
<li>Materials  线使用的材质球</li>
<li>Lighting 光照影响<ul>
<li>Cast Shadows 是否开启阴影</li>
<li>Receive Shadows 接收阴影</li>
</ul>
</li>
<li>Probes 光照探针<ul>
<li>Light Probes 光探测器模式<ul>
<li>Off 不使用光探针</li>
<li>Blend Probes 使用内插光探针</li>
<li>Use Proxy Volume 使用三维网格内插光探针</li>
<li>Custom Provided 自定义从材质决定</li>
</ul>
</li>
<li>Reflection Probes 反射探测器模式<ul>
<li>off 不使用反射探针</li>
<li>Blend Probes 启用混合反射探针</li>
<li>BlendProbes And Skybox 启用混合反射探针并且和天空和混合</li>
<li>Simple 启用普通探针，重叠式不混合</li>
</ul>
</li>
</ul>
</li>
<li>Additional Settings 附加设置<ul>
<li>MotionVectors 运动矢量<ul>
<li>Camera Motion Only 使用相机运动来跟踪运动</li>
<li>PerObject Motion 特定对象来跟踪运动</li>
<li>Force No Motion 不跟踪</li>
</ul>
</li>
<li>Dynamic Occlusic 动态遮挡剔除</li>
<li>Sorting Layer 排序图层</li>
<li>Order in Layer  此线段在排序图层中的顺序<br><img src="https://s2.loli.net/2024/11/26/lbWRj52YPsI4man.png" srcset="/img/loading.gif" lazyload alt="Pasted image 20241124112621.png"></li>
</ul>
</li>
</ul>
<p><img src="https://s2.loli.net/2024/11/26/1frgk9cLITYuywS.png" srcset="/img/loading.gif" lazyload alt="参数1.png"><br><img src="https://s2.loli.net/2024/11/26/VKUZc3FYyujS1vp.png" srcset="/img/loading.gif" lazyload alt="参数2.png"><br><img src="https://s2.loli.net/2024/11/26/6mG5p3TKd7O4huB.png" srcset="/img/loading.gif" lazyload alt="参数3.png"></p>
<p><img src="https://s2.loli.net/2024/11/26/pUFREtcYGHaTdCJ.png" srcset="/img/loading.gif" lazyload alt="参数4.png"></p>
<h1 id="物理系统之范围检测知识点"><a href="#物理系统之范围检测知识点" class="headerlink" title="物理系统之范围检测知识点"></a>物理系统之范围检测知识点</h1><ul>
<li>Edit-&gt;Project Setting<br><img src="https://s2.loli.net/2024/11/26/Fx6saP7OIX1WgEn.png" srcset="/img/loading.gif" lazyload alt="Pasted image 20241124160435.png"></li>
<li>勾选是不忽略触发器<br><img src="https://s2.loli.net/2024/11/26/v4P9XlDFjpxKfmk.png" srcset="/img/loading.gif" lazyload alt="Pasted image 20241124160551.png"></li>
</ul>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br></pre></td><td class="code"><pre><code class="hljs csharp"><span class="hljs-keyword">using</span> System.Collections;<br><span class="hljs-keyword">using</span> System.Collections.Generic;<br><span class="hljs-keyword">using</span> UnityEngine;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">Lesson22</span> : <span class="hljs-title">MonoBehaviour</span><br>&#123;<br>    <span class="hljs-comment">// Start is called before the first frame update</span><br>    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Start</span>()</span><br>    &#123;<br>        <span class="hljs-meta">#<span class="hljs-keyword">region</span> 知识回顾 物理系统之碰撞检测</span><br>        <span class="hljs-comment">//碰撞产生的必要条件</span><br>        <span class="hljs-comment">//1.至少一个物体有刚体</span><br>        <span class="hljs-comment">//2.两个物体都必须有碰撞器</span><br><br>        <span class="hljs-comment">//碰撞和触发</span><br>        <span class="hljs-comment">//碰撞会产生实际的物理效果</span><br>        <span class="hljs-comment">//触发看起来不会产生碰撞但是可以通过函数监听触发</span><br><br>        <span class="hljs-comment">//碰撞检测主要用于实体物体之间产生物理效果时使用</span><br>        <span class="hljs-meta">#<span class="hljs-keyword">endregion</span></span><br><br>        <span class="hljs-meta">#<span class="hljs-keyword">region</span> 知识点一 什么是范围检测</span><br>        <span class="hljs-comment">//游戏中瞬时的攻击范围判断一般会使用范围检测</span><br>        <span class="hljs-comment">//举例：</span><br>        <span class="hljs-comment">//1.玩家在前方5m处释放一个地刺魔法，在此处范围内的对象将受到地刺伤害</span><br>        <span class="hljs-comment">//2.玩家攻击，在前方1米圆形范围内对象都受到伤害</span><br>        <span class="hljs-comment">//等等</span><br>        <span class="hljs-comment">//类似这种并没有实体物体 只想要检测在指定某一范围是否让敌方受到伤害时 便可以使用范围判断</span><br>        <span class="hljs-comment">//简而言之</span><br>        <span class="hljs-comment">//在指定位置 进行 范围判断 我们可以得到处于指定范围内的 对象</span><br>        <span class="hljs-comment">//目的是对 对象进行处理</span><br>        <span class="hljs-comment">//比如 受伤 减血等等</span><br>        <span class="hljs-meta">#<span class="hljs-keyword">endregion</span></span><br><br>        <span class="hljs-meta">#<span class="hljs-keyword">region</span> 知识点二 如何进行范围检测</span><br>        <span class="hljs-comment">//必备条件：想要被范围检测到的对象 必须具备碰撞器</span><br>        <span class="hljs-comment">//注意点：</span><br>        <span class="hljs-comment">//1.范围检测相关API 只有当执行该句代码时，进行一次范围检测，它是瞬时的</span><br>        <span class="hljs-comment">//2.范围检测相关API 并不会真正产生一个碰撞器，只是碰撞判断计算而已</span><br><br>        <span class="hljs-comment">//范围检测API</span><br>        <span class="hljs-comment">//1.盒状范围检测</span><br>        <span class="hljs-comment">//参数一：立方体中心点</span><br>        <span class="hljs-comment">//参数二：立方体三边大小</span><br>        <span class="hljs-comment">//参数三：立方体角度</span><br>        <span class="hljs-comment">//参数四：检测指定层级（不填检测所有层）</span><br>        <span class="hljs-comment">//参数五：是否忽略触发器 UseGlobal-使用全局设置 Collide-检测触发器 Ignore-忽略触发器 不填使用UseGlobal</span><br>        <span class="hljs-comment">//返回值：触发器数组，在该范围内的触发器（得到了对象触发器就可以得到对象的所有信息）</span><br>        print(LayerMask.NameToLayer(<span class="hljs-string">&quot;UI&quot;</span>));<br>        Collider[] colliders = Physics.OverlapBox(<br>            Vector3.zero,<br>            Vector3.one,<br>            Quaternion.AngleAxis(<span class="hljs-number">45</span>, Vector3.up),<br>            <span class="hljs-number">1</span> &lt;&lt; LayerMask.NameToLayer(<span class="hljs-string">&quot;UI&quot;</span>) | <span class="hljs-number">1</span> &lt;&lt; LayerMask.NameToLayer(<span class="hljs-string">&quot;Default&quot;</span>),<br>            QueryTriggerInteraction.UseGlobal<br>        );<br><br>        <span class="hljs-keyword">for</span> (<span class="hljs-built_in">int</span> i = <span class="hljs-number">0</span>; i &lt; colliders.Length; i++)<br>        &#123;<br>            print(colliders[i].gameObject.name);<br>        &#125;<br>        <span class="hljs-comment">//0000 0001</span><br>        <span class="hljs-comment">//0010 0000</span><br><br>        <span class="hljs-comment">//重要知识点：</span><br>        <span class="hljs-comment">//关于层级</span><br>        <span class="hljs-comment">//通过名字得到层级编号 LayerMask.NameToLayer</span><br>        <span class="hljs-comment">//我们需要通过编号左移构建二进制数</span><br>        <span class="hljs-comment">//这样每一个编号的层级 都是 对应位为1的2进制数</span><br>        <span class="hljs-comment">//我们通过 位运算 可以选择想要检测层级</span><br>        <span class="hljs-comment">//好处 一个int 就可以表示所有想要检测的层级信息</span><br><br>        <span class="hljs-comment">//层级编号是 0~31 刚好32位</span><br>        <span class="hljs-comment">//是一个int数</span><br>        <span class="hljs-comment">//每一个编号 代表的 都是二进制的一位</span><br>        <span class="hljs-comment">//0—— 1 &lt;&lt; 0——0000 0000 0000 0000 0000 0000 0000 0001 = 1</span><br>        <span class="hljs-comment">//1—— 1 &lt;&lt; 1——0000 0000 0000 0000 0000 0000 0000 0010 = 2</span><br>        <span class="hljs-comment">//2—— 1 &lt;&lt; 2——0000 0000 0000 0000 0000 0000 0000 0100 = 4</span><br>        <span class="hljs-comment">//3—— 1 &lt;&lt; 3——0000 0000 0000 0000 0000 0000 0000 1000 = 8</span><br>        <span class="hljs-comment">//4—— 1 &lt;&lt; 4——0000 0000 0000 0000 0000 0000 0001 0000 = 16</span><br>        <span class="hljs-comment">//5—— 1 &lt;&lt; 5——0000 0000 0000 0000 0000 0000 0010 0000 = 32</span><br><br>        <span class="hljs-comment">//另一个API</span><br>        <span class="hljs-comment">//返回值：碰撞到的碰撞器数量</span><br>        <span class="hljs-comment">//参数：传入一个数组进行存储</span><br>        <span class="hljs-comment">//Physics.OverlapBoxNonAlloc()</span><br><br>        <span class="hljs-keyword">if</span> (Physics.OverlapBoxNonAlloc(Vector3.zero, Vector3.one, colliders) != <span class="hljs-number">0</span>) &#123; &#125;<br><br>        <span class="hljs-comment">//2.球形范围检测</span><br>        <span class="hljs-comment">//参数一：中心点</span><br>        <span class="hljs-comment">//参数二：球半径</span><br>        <span class="hljs-comment">//参数三：检测指定层级（不填检测所有层）</span><br>        <span class="hljs-comment">//参数四：是否忽略触发器 UseGlobal-使用全局设置 Collide-检测触发器 Ignore-忽略触发器 不填使用UseGlobal</span><br>        <span class="hljs-comment">//返回值：在该范围内的触发器（得到了对象触发器就可以得到对象的所有信息）</span><br>        colliders = Physics.OverlapSphere(Vector3.zero, <span class="hljs-number">5</span>, <span class="hljs-number">1</span> &lt;&lt; LayerMask.NameToLayer(<span class="hljs-string">&quot;Default&quot;</span>));<br><br>        <span class="hljs-comment">//另一个API</span><br>        <span class="hljs-comment">//返回值：碰撞到的碰撞器数量</span><br>        <span class="hljs-comment">//参数：传入一个数组进行存储</span><br>        <span class="hljs-comment">//Physics.OverlapSphereNonAlloc</span><br>        <span class="hljs-keyword">if</span> (Physics.OverlapSphereNonAlloc(Vector3.zero, <span class="hljs-number">5</span>, colliders) != <span class="hljs-number">0</span>) &#123; &#125;<br><br>        <span class="hljs-comment">//3.胶囊范围检测</span><br>        <span class="hljs-comment">//参数一：半圆一中心点</span><br>        <span class="hljs-comment">//参数二：半圆二中心点</span><br>        <span class="hljs-comment">//参数三：半圆半径</span><br>        <span class="hljs-comment">//参数四：检测指定层级（不填检测所有层）</span><br>        <span class="hljs-comment">//参数五：是否忽略触发器 UseGlobal-使用全局设置 Collide-检测触发器 Ignore-忽略触发器 不填使用UseGlobal</span><br>        <span class="hljs-comment">//返回值：在该范围内的触发器（得到了对象触发器就可以得到对象的所有信息）</span><br>        colliders = Physics.OverlapCapsule(<br>            Vector3.zero,<br>            Vector3.up,<br>            <span class="hljs-number">1</span>,<br>            <span class="hljs-number">1</span> &lt;&lt; LayerMask.NameToLayer(<span class="hljs-string">&quot;UI&quot;</span>),<br>            QueryTriggerInteraction.UseGlobal<br>        );<br><br>        <span class="hljs-comment">//另一个API</span><br>        <span class="hljs-comment">//返回值：碰撞到的碰撞器数量</span><br>        <span class="hljs-comment">//参数：传入一个数组进行存储</span><br>        <span class="hljs-comment">//Physics.OverlapCapsuleNonAlloc</span><br>        <span class="hljs-keyword">if</span> (Physics.OverlapCapsuleNonAlloc(Vector3.zero, Vector3.up, <span class="hljs-number">1</span>, colliders) != <span class="hljs-number">0</span>) &#123; &#125;<br>        <span class="hljs-meta">#<span class="hljs-keyword">endregion</span></span><br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<h1 id="物理系统之射线检测"><a href="#物理系统之射线检测" class="headerlink" title="物理系统之射线检测"></a>物理系统之射线检测</h1><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br></pre></td><td class="code"><pre><code class="hljs csharp"><span class="hljs-keyword">using</span> System.Collections;<br><span class="hljs-keyword">using</span> System.Collections.Generic;<br><span class="hljs-keyword">using</span> UnityEngine;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">Lesson23</span> : <span class="hljs-title">MonoBehaviour</span><br>&#123;<br>    <span class="hljs-comment">// Start is called before the first frame update</span><br>    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Start</span>()</span><br>    &#123;<br>        <span class="hljs-meta">#<span class="hljs-keyword">region</span> 知识点一 什么是射线检测</span><br>        <span class="hljs-comment">//物理系统中</span><br>        <span class="hljs-comment">//目前我们学习的物体相交判断</span><br>        <span class="hljs-comment">//1.碰撞检测——必备条件 1刚体2碰撞器</span><br>        <span class="hljs-comment">//2.范围检测——必备条件 碰撞器</span><br><br>        <span class="hljs-comment">//如果想要做这样的碰撞检测呢？</span><br>        <span class="hljs-comment">//1.鼠标选择场景上一物体</span><br>        <span class="hljs-comment">//2.FPS射击游戏（无弹道-不产生实际的子弹对象进行移动）</span><br>        <span class="hljs-comment">//等等 需要判断一条线和物体的碰撞情况</span><br><br>        <span class="hljs-comment">//射线检测 就是来解决这些问题的</span><br>        <span class="hljs-comment">//它可以在指定点发射一个指定方向的射线</span><br>        <span class="hljs-comment">//判断该射线与哪些碰撞器相交，得到对应对象</span><br>        <span class="hljs-meta">#<span class="hljs-keyword">endregion</span></span><br><br>        <span class="hljs-meta">#<span class="hljs-keyword">region</span> 知识点二 射线对象</span><br>        <span class="hljs-comment">//1.3D世界中的射线</span><br>        <span class="hljs-comment">//假设有一条</span><br>        <span class="hljs-comment">//起点为坐标(1,0,0)</span><br>        <span class="hljs-comment">//方向为世界坐标Z轴正方向的射线</span><br>        <span class="hljs-comment">//注意：</span><br>        <span class="hljs-comment">//理解参数含义</span><br>        <span class="hljs-comment">//参数一：起点</span><br>        <span class="hljs-comment">//参数二：方向（一定记住 不是两点决定射线方向，第二个参数 直接就代表方向向量）</span><br><br>        <span class="hljs-comment">//目前只是申明了一个射线对象 对于我们来说 没有任何的用处</span><br>        Ray r = <span class="hljs-keyword">new</span> Ray(Vector3.right, Vector3.forward);<br><br>        <span class="hljs-comment">//Ray中的参数</span><br>        print(r.origin); <span class="hljs-comment">//起点</span><br>        print(r.direction); <span class="hljs-comment">//方向</span><br><br>        <span class="hljs-comment">//2.摄像机发射出的射线</span><br>        <span class="hljs-comment">// 得到一条从屏幕位置作为起点</span><br>        <span class="hljs-comment">// 摄像机视口方向为 方向的射线</span><br>        Ray r2 = Camera.main.ScreenPointToRay(Input.mousePosition);<br><br>        <span class="hljs-comment">//注意：</span><br>        <span class="hljs-comment">//单独的射线对于我们来说没有实际的意义</span><br>        <span class="hljs-comment">//我们需要用它结合物理系统进行射线碰撞判断</span><br>        <span class="hljs-meta">#<span class="hljs-keyword">endregion</span></span><br><br>        <span class="hljs-meta">#<span class="hljs-keyword">region</span> 知识点三 碰撞检测函数</span><br>        <span class="hljs-comment">//Physics类中提供了很多进行射线检测的静态函数</span><br>        <span class="hljs-comment">//他们有很多种重载类型 我们只需要掌握核心的几个函数 其它函数自然就明白什么意思了</span><br>        <span class="hljs-comment">//注意：</span><br>        <span class="hljs-comment">//射线检测也是瞬时的</span><br>        <span class="hljs-comment">//执行代码时进行一次射线检测</span><br><br>        <span class="hljs-comment">//1.最原始的射线检测</span><br>        <span class="hljs-comment">// 准备一条射线</span><br>        Ray r3 = <span class="hljs-keyword">new</span> Ray(Vector3.zero, Vector3.forward);<br>        <span class="hljs-comment">// 进行射线检测 如果碰撞到对象 返回true</span><br>        <span class="hljs-comment">//参数一：射线</span><br>        <span class="hljs-comment">//参数二: 检测的最大距离 超出这个距离不检测</span><br>        <span class="hljs-comment">//参数三：检测指定层级（不填检测所有层）</span><br>        <span class="hljs-comment">//参数四：是否忽略触发器 UseGlobal-使用全局设置 Collide-检测触发器 Ignore-忽略触发器 不填使用UseGlobal</span><br>        <span class="hljs-comment">//返回值：bool 当碰撞到对象时 返回 true 没有 返回false</span><br><br>        <span class="hljs-keyword">if</span> (<br>            Physics.Raycast(<br>                r3,<br>                <span class="hljs-number">1000</span>,<br>                <span class="hljs-number">1</span> &lt;&lt; LayerMask.NameToLayer(<span class="hljs-string">&quot;Monster&quot;</span>),<br>                QueryTriggerInteraction.UseGlobal<br>            )<br>        )<br>        &#123;<br>            print(<span class="hljs-string">&quot;碰撞到了对象&quot;</span>);<br>        &#125;<br><br>        <span class="hljs-comment">//还有一种重载 不用传入 射线 直接传入起点 和 方向 也可以用于判断</span><br>        <span class="hljs-comment">//就是把 第一个参数射线 变成了 射线的 两个点 一个起点 一个方向</span><br>        <span class="hljs-keyword">if</span> (<br>            Physics.Raycast(<br>                Vector3.zero,<br>                Vector3.forward,<br>                <span class="hljs-number">1000</span>,<br>                <span class="hljs-number">1</span> &lt;&lt; LayerMask.NameToLayer(<span class="hljs-string">&quot;Monster&quot;</span>),<br>                QueryTriggerInteraction.UseGlobal<br>            )<br>        )<br>        &#123;<br>            print(<span class="hljs-string">&quot;碰撞到了对象2&quot;</span>);<br>        &#125;<br><br>        <span class="hljs-comment">//2.获取相交的单个物体信息</span><br>        <span class="hljs-comment">//物体信息类 RaycastHit</span><br>        RaycastHit hitInfo;<br>        <span class="hljs-comment">//参数一：射线</span><br>        <span class="hljs-comment">//参数二：RaycastHit是结构体 是值类型 Unity会通过out 关键在 在函数内部处理后 得到碰撞数据后返回到该参数中</span><br>        <span class="hljs-comment">//参数三：距离</span><br>        <span class="hljs-comment">//参数四：检测指定层级（不填检测所有层）</span><br>        <span class="hljs-comment">//参数五：是否忽略触发器 UseGlobal-使用全局设置 Collide-检测触发器 Ignore-忽略触发器 不填使用UseGlobal</span><br>        <span class="hljs-keyword">if</span> (<br>            Physics.Raycast(<br>                r3,<br>                <span class="hljs-keyword">out</span> hitInfo,<br>                <span class="hljs-number">1000</span>,<br>                <span class="hljs-number">1</span> &lt;&lt; LayerMask.NameToLayer(<span class="hljs-string">&quot;Monster&quot;</span>),<br>                QueryTriggerInteraction.UseGlobal<br>            )<br>        )<br>        &#123;<br>            print(<span class="hljs-string">&quot;碰撞到了物体 得到了信息&quot;</span>);<br><br>            <span class="hljs-comment">//碰撞器信息</span><br>            print(<span class="hljs-string">&quot;碰撞到物体的名字&quot;</span> + hitInfo.collider.gameObject.name);<br>            <span class="hljs-comment">//碰撞到的点，是碰撞体表面的点</span><br>            print(hitInfo.point);<br>            <span class="hljs-comment">//法线信息</span><br>            print(hitInfo.normal);<br><br>            <span class="hljs-comment">//得到碰撞到对象的位置</span><br>            print(hitInfo.transform.position);<br><br>            <span class="hljs-comment">//得到碰撞到对象 离自己的距离</span><br>            print(hitInfo.distance);<br><br>            <span class="hljs-comment">//RaycastHit 该类 对于我们的意义</span><br>            <span class="hljs-comment">//它不仅可以得到我们碰撞到的对象信息</span><br>            <span class="hljs-comment">//还可以得到一些 碰撞的点 距离 法线等等的信息</span><br>        &#125;<br><br>        <span class="hljs-comment">//还有一种重载 不用传入 射线 直接传入起点 和 方向 也可以用于判断</span><br>        <span class="hljs-keyword">if</span> (<br>            Physics.Raycast(<br>                Vector3.zero,<br>                Vector3.forward,<br>                <span class="hljs-keyword">out</span> hitInfo,<br>                <span class="hljs-number">1000</span>,<br>                <span class="hljs-number">1</span> &lt;&lt; LayerMask.NameToLayer(<span class="hljs-string">&quot;Monster&quot;</span>),<br>                QueryTriggerInteraction.UseGlobal<br>            )<br>        ) &#123; &#125;<br><br>        <span class="hljs-comment">//3.获取相交的多个物体</span><br>        <span class="hljs-comment">//可以得到碰撞到的多个对象</span><br>        <span class="hljs-comment">//如果没有 就是容量为0的数组</span><br>        <span class="hljs-comment">//参数一：射线</span><br>        <span class="hljs-comment">//参数二：距离</span><br>        <span class="hljs-comment">//参数三：检测指定层级（不填检测所有层）</span><br>        <span class="hljs-comment">//参数四：是否忽略触发器 UseGlobal-使用全局设置 Collide-检测触发器 Ignore-忽略触发器 不填使用UseGlobal</span><br>        RaycastHit[] hits = Physics.RaycastAll(<br>            r3,<br>            <span class="hljs-number">1000</span>,<br>            <span class="hljs-number">1</span> &lt;&lt; LayerMask.NameToLayer(<span class="hljs-string">&quot;Monster&quot;</span>),<br>            QueryTriggerInteraction.UseGlobal<br>        );<br>        <span class="hljs-keyword">for</span> (<span class="hljs-built_in">int</span> i = <span class="hljs-number">0</span>; i &lt; hits.Length; i++)<br>        &#123;<br>            print(<span class="hljs-string">&quot;碰到的所有物体 名字分别是&quot;</span> + hits[i].collider.gameObject.name);<br>        &#125;<br><br>        <span class="hljs-comment">//还有一种重载 不用传入 射线 直接传入起点 和 方向 也可以用于判断</span><br>        <span class="hljs-comment">//之前的参数一射线 通过两个点传入</span><br>        hits = Physics.RaycastAll(<br>            Vector3.zero,<br>            Vector3.forward,<br>            <span class="hljs-number">1000</span>,<br>            <span class="hljs-number">1</span> &lt;&lt; LayerMask.NameToLayer(<span class="hljs-string">&quot;Monster&quot;</span>),<br>            QueryTriggerInteraction.UseGlobal<br>        );<br><br>        <span class="hljs-comment">//还有一种函数 返回的碰撞的数量 通过out得到数据</span><br>        <span class="hljs-keyword">if</span> (<br>            Physics.RaycastNonAlloc(<br>                r3,<br>                hits,<br>                <span class="hljs-number">1000</span>,<br>                <span class="hljs-number">1</span> &lt;&lt; LayerMask.NameToLayer(<span class="hljs-string">&quot;Monster&quot;</span>),<br>                QueryTriggerInteraction.UseGlobal<br>            ) &gt; <span class="hljs-number">0</span><br>        ) &#123; &#125;<br><br>        <span class="hljs-meta">#<span class="hljs-keyword">endregion</span></span><br><br>        <span class="hljs-meta">#<span class="hljs-keyword">region</span> 知识点四 使用时注意的问题</span><br>        <span class="hljs-comment">//注意：</span><br>        <span class="hljs-comment">//距离、层级两个参数 都是int类型</span><br>        <span class="hljs-comment">//当我们传入参数时 一定要明确传入的参数代表的是距离还是层级</span><br>        <span class="hljs-comment">//举例</span><br>        <span class="hljs-comment">//这样写是错误的 因为第二个参数 代表的是距离 不是层级</span><br>        <span class="hljs-keyword">if</span> (Physics.Raycast(r3, <span class="hljs-number">1000</span>, <span class="hljs-number">1</span> &lt;&lt; LayerMask.NameToLayer(<span class="hljs-string">&quot;Monster&quot;</span>))) &#123; &#125;<br><br>        <span class="hljs-meta">#<span class="hljs-keyword">endregion</span></span><br>    &#125;<br><br>    <span class="hljs-comment">// Update is called once per frame</span><br>    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Update</span>()</span> &#123; &#125;<br>&#125;<br></code></pre></td></tr></table></figure>


<h1 id="参考文献"><a href="#参考文献" class="headerlink" title="参考文献"></a>参考文献</h1><p><a target="_blank" rel="noopener" href="https://www.yxtown.com/">游习堂</a></p>

                
              </div>
            
            <hr/>
            <div>
              <div class="post-metas my-3">
  
  
</div>


              
  

  <div class="license-box my-3">
    <div class="license-title">
      <div>Unity知识整理(二_基础)</div>
      <div>https://wing2791.github.io/2024/11/22/Unity知识整理(二_基础)/</div>
    </div>
    <div class="license-meta">
      
        <div class="license-meta-item">
          <div>作者</div>
          <div>wing2791</div>
        </div>
      
      
        <div class="license-meta-item license-meta-date">
          <div>发布于</div>
          <div>2024年11月22日</div>
        </div>
      
      
      
        <div class="license-meta-item">
          <div>许可协议</div>
          <div>
            
              
              
                <a class="print-no-link" target="_blank" href="https://creativecommons.org/licenses/by/4.0/">
                  <span class="hint--top hint--rounded" aria-label="BY - 署名">
                    <i class="iconfont icon-cc-by"></i>
                  </span>
                </a>
              
            
          </div>
        </div>
      
    </div>
    <div class="license-icon iconfont"></div>
  </div>



              
                <div class="post-prevnext my-3">
                  <article class="post-prev col-6">
                    
                    
                  </article>
                  <article class="post-next col-6">
                    
                    
                      <a href="/2024/11/18/VStudio%E7%AD%89IDE%E7%9A%84%E4%B8%80%E4%BA%9B%E8%AE%BE%E7%BD%AE/" title="VStudio的一些设置">
                        <span class="hidden-mobile">VStudio的一些设置</span>
                        <span class="visible-mobile">下一篇</span>
                        <i class="iconfont icon-arrowright"></i>
                      </a>
                    
                  </article>
                </div>
              
            </div>

            
          </article>
        </div>
      </div>
    </div>

    <div class="side-col d-none d-lg-block col-lg-2">
      
  <aside class="sidebar" style="margin-left: -1rem">
    <div id="toc">
  <p class="toc-header">
    <i class="iconfont icon-list"></i>
    <span>目录</span>
  </p>
  <div class="toc-body" id="toc-body"></div>
</div>



  </aside>


    </div>
  </div>
</div>





  



  



  



  



  


  
  









    

    
      <a id="scroll-top-button" aria-label="TOP" href="#" role="button">
        <i class="iconfont icon-arrowup" aria-hidden="true"></i>
      </a>
    

    
      <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">搜索</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v" for="local-search-input">关键词</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>

    

    
  </main>

  <footer>
    <div class="footer-inner">
  
    <div class="footer-content">
       <i class="iconfont icon-bilibili-fill"></i> <a href="https://space.bilibili.com/384847565" target="_blank" rel="nofollow noopener"><span>B站主页</span></a> 
    </div>
  
  
  
</div>

  </footer>

  <!-- Scripts -->
  
  <script  src="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.js" ></script>
  <link  rel="stylesheet" href="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.css" />

  <script>
    NProgress.configure({"showSpinner":false,"trickleSpeed":100})
    NProgress.start()
    window.addEventListener('load', function() {
      NProgress.done();
    })
  </script>


<script  src="https://lib.baomitu.com/jquery/3.6.4/jquery.min.js" ></script>
<script  src="https://lib.baomitu.com/twitter-bootstrap/4.6.1/js/bootstrap.min.js" ></script>
<script  src="/js/events.js" ></script>
<script  src="/js/plugins.js" ></script>


  <script  src="https://lib.baomitu.com/typed.js/2.0.12/typed.min.js" ></script>
  <script>
    (function (window, document) {
      var typing = Fluid.plugins.typing;
      var subtitle = document.getElementById('subtitle');
      if (!subtitle || !typing) {
        return;
      }
      var text = subtitle.getAttribute('data-typed-text');
      
        typing(text);
      
    })(window, document);
  </script>




  
    <script  src="/js/img-lazyload.js" ></script>
  




  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/tocbot/4.20.1/tocbot.min.js', function() {
    var toc = jQuery('#toc');
    if (toc.length === 0 || !window.tocbot) { return; }
    var boardCtn = jQuery('#board-ctn');
    var boardTop = boardCtn.offset().top;

    window.tocbot.init(Object.assign({
      tocSelector     : '#toc-body',
      contentSelector : '.markdown-body',
      linkClass       : 'tocbot-link',
      activeLinkClass : 'tocbot-active-link',
      listClass       : 'tocbot-list',
      isCollapsedClass: 'tocbot-is-collapsed',
      collapsibleClass: 'tocbot-is-collapsible',
      scrollSmooth    : true,
      includeTitleTags: true,
      headingsOffset  : -boardTop,
    }, CONFIG.toc));
    if (toc.find('.toc-list-item').length > 0) {
      toc.css('visibility', 'visible');
    }

    Fluid.events.registerRefreshCallback(function() {
      if ('tocbot' in window) {
        tocbot.refresh();
        var toc = jQuery('#toc');
        if (toc.length === 0 || !tocbot) {
          return;
        }
        if (toc.find('.toc-list-item').length > 0) {
          toc.css('visibility', 'visible');
        }
      }
    });
  });
</script>


  <script src=https://lib.baomitu.com/clipboard.js/2.0.11/clipboard.min.js></script>

  <script>Fluid.plugins.codeWidget();</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/anchor-js/5.0.0/anchor.min.js', function() {
    window.anchors.options = {
      placement: CONFIG.anchorjs.placement,
      visible  : CONFIG.anchorjs.visible
    };
    if (CONFIG.anchorjs.icon) {
      window.anchors.options.icon = CONFIG.anchorjs.icon;
    }
    var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
    var res = [];
    for (var item of el) {
      res.push('.markdown-body > ' + item.trim());
    }
    if (CONFIG.anchorjs.placement === 'left') {
      window.anchors.options.class = 'anchorjs-link-left';
    }
    window.anchors.add(res.join(', '));

    Fluid.events.registerRefreshCallback(function() {
      if ('anchors' in window) {
        anchors.removeAll();
        var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
        var res = [];
        for (var item of el) {
          res.push('.markdown-body > ' + item.trim());
        }
        if (CONFIG.anchorjs.placement === 'left') {
          anchors.options.class = 'anchorjs-link-left';
        }
        anchors.add(res.join(', '));
      }
    });
  });
</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.js', function() {
    Fluid.plugins.fancyBox();
  });
</script>


  <script>Fluid.plugins.imageCaption();</script>

  
      <script>
        if (!window.MathJax) {
          window.MathJax = {
            tex    : {
              inlineMath: { '[+]': [['$', '$']] }
            },
            loader : {
              load: ['ui/lazy']
            },
            options: {
              renderActions: {
                insertedScript: [200, () => {
                  document.querySelectorAll('mjx-container').forEach(node => {
                    let target = node.parentNode;
                    if (target.nodeName.toLowerCase() === 'li') {
                      target.parentNode.classList.add('has-jax');
                    }
                  });
                }, '', false]
              }
            }
          };
        } else {
          MathJax.startup.document.state(0);
          MathJax.texReset();
          MathJax.typeset();
          MathJax.typesetPromise();
        }

        Fluid.events.registerRefreshCallback(function() {
          if ('MathJax' in window && MathJax.startup.document && typeof MathJax.startup.document.state === 'function') {
            MathJax.startup.document.state(0);
            MathJax.texReset();
            MathJax.typeset();
            MathJax.typesetPromise();
          }
        });
      </script>
    

  <script  src="https://lib.baomitu.com/mathjax/3.2.2/es5/tex-mml-chtml.js" ></script>

  <script  src="/js/local-search.js" ></script>





<!-- 主题的启动项，将它保持在最底部 -->
<!-- the boot of the theme, keep it at the bottom -->
<script  src="/js/boot.js" ></script>


  

  <noscript>
    <div class="noscript-warning">博客在允许 JavaScript 运行的环境下浏览效果更佳</div>
  </noscript>
</body>
</html>
